Compiling Program: C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\WebApp.src
Memory Available: 21254565888
1>Use AllWebAppClasses.pkg
Using pre-compiled package ALLWEBAPPCLASSES.PKG
Including file: AllWebAppClasses.x64.pkd    (C:\Program Files\DataFlex 20.1\Pkg\AllWebAppClasses.x64.pkd)
34659>Use cConnection.pkg
34659>Use cWebMenuItem.pkg
34659>
34659>Object oApplication is a cApplication
34661>    Object oConnection is a cConnection
34663>        Use LoginEncryption.pkg
Including file: LoginEncryption.pkg    (C:\Program Files\DataFlex 20.1\Pkg\LoginEncryption.pkg)
34663>>>Use cLoginEncryption.pkg
Including file: cLoginEncryption.pkg    (C:\Program Files\DataFlex 20.1\Pkg\cLoginEncryption.pkg)
34663>>>>>Use cCryptographerEx.pkg
34663>>>>>
34663>>>>>Class cLoginEncryption is a cObject
34664>>>>>    
34664>>>>>    Procedure Construct_Object
34666>>>>>        Forward Send Construct_Object
34668>>>>>        // this must be set to a multi (40ish) character random key
34668>>>>>        Property String psEncryptPassword ""
34669>>>>>        
34669>>>>>        Object oDataCrypter is a cCryptographerEx
34671>>>>>            Set piHash to CALG_SHA_256
34672>>>>>            Set piCipher to CALG_AES_256
34673>>>>>            Set psProvider to "" //  Not providing a specific provider gives the default provider for the provider type
34674>>>>>            Set piProvider to PROV_RSA_AES
34675>>>>>        End_Object
34676>>>>>    End_Procedure
34677>>>>>    
34677>>>>>    // This can be augmented to return a password encryption key using any
34677>>>>>    // hidden mechanism desired.
34677>>>>>    Function GetEncryptionPassword Returns String
34679>>>>>        String sPassword
34679>>>>>        Get psEncryptPassword to sPassword
34680>>>>>        Function_Return sPassword
34681>>>>>    End_Function
34682>>>>>    
34682>>>>>    // Encrypts a string into an unreadable hash that can later be decrypted using DecryptKey.
34682>>>>>    //
34682>>>>>    // Params:
34682>>>>>    //   sPlainText     String to encrypt.
34682>>>>>    // Returns:
34682>>>>>    //   Base64 encoded hash.
34682>>>>>    Function EncryptPassword String sPlainText Returns String
34684>>>>>        String sEncryptPassword sBase64
34684>>>>>        UChar[] ucBinary
34685>>>>>        Pointer pBase64
34685>>>>>        Integer iVoid
34685>>>>>        
34685>>>>>        //  Encrypt Key
34685>>>>>        Get GetEncryptionPassword to sEncryptPassword
34686>>>>>        If (sEncryptPassword = "") Begin
34688>>>>>            Error DFERR_PROGRAM "No encryption password set"
34689>>>>>>
34689>>>>>        End
34689>>>>>>
34689>>>>>        
34689>>>>>        Get Encrypt of oDataCrypter (StringToUCharArray(sEncryptPassword)) (StringToUCharArray(sPlainText)) to ucBinary
34690>>>>>        
34690>>>>>        If (SizeOfArray(ucBinary) = 0) Begin
34692>>>>>            Error DFERR_PROGRAM "Unable to encrypt database login password"
34693>>>>>>
34693>>>>>            Function_Return ""
34694>>>>>        End
34694>>>>>>
34694>>>>>        
34694>>>>>        //  Encode binary hash to Base64
34694>>>>>        Move (Base64Encode(AddressOf(ucBinary), SizeOfArray(ucBinary))) to pBase64
34695>>>>>        Move (PointerToString(pBase64)) to sBase64
34696>>>>>        Move (Free(pBase64)) to iVoid
34697>>>>>        
34697>>>>>        Function_Return sBase64
34698>>>>>    End_Function
34699>>>>>    
34699>>>>>    
34699>>>>>    // Decrypts the unreadable hash generated by EncryptKey into a readable string.
34699>>>>>    //
34699>>>>>    // Params:
34699>>>>>    //   sBase64EncryptedPassword       Base64 Encrypted password
34699>>>>>    // Returns:
34699>>>>>    //   Readable plain text password
34699>>>>>    Function DecryptPassword String sBase64EncryptedPassword Returns String
34701>>>>>        String sEncryptPassword
34701>>>>>        UChar[] ucBinary ucPlain
34703>>>>>        Boolean bIsHex
34703>>>>>        Integer iLen iVoid
34703>>>>>        Pointer pBinary
34703>>>>>        
34703>>>>>        If (sBase64EncryptedPassword <> "") Begin
34705>>>>>            //  Decode from Base64
34705>>>>>            Move (Base64Decode(AddressOf(sBase64EncryptedPassword), &iLen)) to pBinary
34706>>>>>            
34706>>>>>            Move (ResizeArray(ucBinary, iLen, 0)) to ucBinary
34707>>>>>            Move (MemCopy(AddressOf(ucBinary), pBinary, iLen)) to iVoid
34708>>>>>                        
34708>>>>>            Move (Free(pBinary)) to iVoid
34709>>>>>            
34709>>>>>            //  Encrypted binary hash to string
34709>>>>>            Get GetEncryptionPassword to sEncryptPassword
34710>>>>>            Get Decrypt of oDataCrypter (StringToUCharArray(sEncryptPassword)) ucBinary to ucPlain
34711>>>>>        End
34711>>>>>>
34711>>>>>        
34711>>>>>        Function_Return (UCharArrayToString(ucPlain))
34712>>>>>    End_Function
34713>>>>>End_Class
34714>>>
34714>>>Object oLoginEncryption is a cLoginEncryption
34716>>>
34716>>>    // this must be created in your appsrc directory and must contain an encryption
34716>>>    // key that is set to psEncryptPassword. It will look something like this
34716>>>    //
34716>>>    // Set psEncryptPassword to "JchUAo7W@r.b{<Yk~OONi0nq=sMi[*Rn[A-`Vo)q"
34716>>>    //  
Including file: LoginEncryptionKey.inc    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\LoginEncryptionKey.inc)
34716>>>>// Studio generated login encryption key
34716>>>>Set psEncryptPassword to "Qz$,1-8FV#TJ\N`0.RrSw,L(Yl]N*RiNt(PUpezF"
34717>>>>
34717>>>    
34717>>>    // use this to register this object to your cConnection Object. This object
34717>>>    // must be created after the cConnection object
34717>>>    Move Self to ghoLoginEncryption
34718>>>End_Object
34719>    End_Object
34720>End_Object
34721>
34721>Object oWebApp is a cWebApp
34723>    Set psTheme to "Df_Material"
34724>    Set peAlignView to alignCenter
34725>    
34725>    // It is important to set this so that all views will default
34725>    // to drill down style views.
34725>    Set peApplicationStyle to wvsDrillDown   
34726>    Set peApplicationStateMode to asmHistoryAndUrls 
34727>    Set psEncryptPassword to "a@_WPP&qv[0H-@8v5(\Z,#{Hsq%dH\tTSi|Iq60f"
34728>
34728>    Object oViewStack is a cWebViewStack
34730>    End_Object
34731>    
34731>    Procedure HideHeader
34734>        WebSet pbRender of oHeaderPanel to False
34735>    End_Procedure
34736>
34736>    Procedure ShowHeader
34739>        WebSet pbRender of oHeaderPanel to True 
34740>    End_Procedure
34741>
34741>    Object oHeaderPanel is a cWebPanel
34743>        Set peRegion to prTop
34744>        Set psCSSClass to "HeaderPanel"
34745>        
34745>        Object oMenuPanel is a cWebPanel
34747>            Set peRegion to prLeft
34748>            Set piWidth to 50
34749>            
34749>            Object oMenuButton is a cWebMenuButton
34751>                Set piMenuHeight to 500
34752>
34752>                Object oDashboard_itm is a cWebMenuItem
34754>                    Set psCaption to C_$Dashboard
34755>                    
34755>                    WebRegisterPath ntNavigateBegin oDashboard
34761>
34761>                    Procedure OnClick
34764>                        Send NavigatePath
34765>                    End_Procedure
34766>                End_Object
34767>
34767>                Object oViewMenu is a cWebMenuItem
34769>                    Set psCaption to C_$View
34770>
34770>                    Object oFuelItem1 is a cWebMenuItem
34772>                        Set psCaption to "Fuel"
34773>
34773>                        WebRegisterPath ntNavigateBegin oFuelSelect
34779>
34779>                        Procedure OnClick
34782>                            Forward Send OnClick
34784>                                Send NavigatePath
34785>                        End_Procedure
34786>                    End_Object
34787>
34787>                    Object oGearboxItem1 is a cWebMenuItem
34789>                        Set psCaption to "Gearbox"
34790>
34790>                        WebRegisterPath ntNavigateBegin oGearboxSelect
34796>
34796>                        Procedure OnClick
34799>                            Forward Send OnClick
34801>                                Send NavigatePath
34802>                        End_Procedure
34803>                    End_Object
34804>
34804>                    Object oCarItem1 is a cWebMenuItem
34806>                        Set psCaption to "Car"
34807>
34807>                        WebRegisterPath ntNavigateBegin oCarSelect
34813>
34813>                        Procedure OnClick
34816>                            Forward Send OnClick
34818>                                Send NavigatePath
34819>                        End_Procedure
34820>                    End_Object
34821>
34821>                    Object oDepartmentItem1 is a cWebMenuItem
34823>                        Set psCaption to "Department"
34824>
34824>                        WebRegisterPath ntNavigateBegin oDepartmentSelect
34830>
34830>                        Procedure OnClick
34833>                            Forward Send OnClick
34835>                                Send NavigatePath
34836>                        End_Procedure
34837>                    End_Object
34838>
34838>                    Object oDepartmentItem2 is a cWebMenuItem
34840>                        Set psCaption to "Department"
34841>
34841>                        WebRegisterPath ntNavigateBegin oDepartmentSelect
34847>
34847>                        Procedure OnClick
34850>                            Forward Send OnClick
34852>                                Send NavigatePath
34853>                        End_Procedure
34854>                    End_Object
34855>                End_Object
34856>
34856>                Object oSignOut_itm is a cWebMenuItem
34858>                    Set psCaption to C_$LogOut
34859>
34859>                    Procedure OnClick
34862>                        Send RequestLogOut of ghoWebSessionManager
34863>                    End_Procedure
34864>                End_Object
34865>            End_Object  
34866>
34866>            Object oBackButton is a cWebButton
34868>                Set psCSSClass to "WebBack_Icon"
34869>                Set pbRender to False
34870>                
34870>                Procedure OnClick
34873>                    Handle hoTop
34873>                    
34873>                    Get TopViewHandle of oViewStack to hoTop
34874>                    If (hoTop > 0) Begin
34876>                        Send NavigateCancel of hoTop 
34877>                    End
34877>                End_Procedure
34878>            End_Object
34879>            
34879>            Send AddClient of oViewStack Self
34880>                
34880>            Procedure OnUpdateViewStack
34883>                Handle hoTop hoDflt
34883>                Integer eMode
34883>                Boolean bTop
34883>                
34883>                WebGet peMode of ghoWebApp to eMode
34886>                
34886>                Get TopViewHandle of oViewStack to hoTop
34887>                Get GetDefaultView to hoDflt
34888>                Move (hoTop=0 or hoTop=hoDflt) to bTop
34889>                
34889>                WebSet pbRender of oBackButton to (not(bTop) and eMode >= rmMobile)
34890>                WebSet pbRender of oMenuButton to (bTop or eMode < rmMobile)
34891>            End_Procedure
34892>
34892>        End_Object
34893>
34893>        Object oCaptionPanel is a cWebPanel
34895>            Set piColumnCount to 12
34896>
34896>            Object oCaptionBreadcrumb is a cWebBreadcrumb
34898>                Set peBreadcrumbStyle to crumbCaption
34899>                WebSetResponsive peBreadcrumbStyle rmMobile to crumbDropDown
34900>            End_Object         
34901>        End_Object
34902>        
34902>        Object oActionPanel is a cWebPanel
34904>            Set peRegion to prRight
34905>            Set piColumnCount to 1
34906>            Set piWidth to 120
34907>
34907>            Object oMainActions is a cWebActionBar
34909>                Set psGroupName to "MainActions"
34910>
34910>                Set piColumnSpan to 0
34911>                Set peAlign to alignRight
34912>            End_Object
34913>        End_Object
34914>
34914>        Object oBreadcrumbPanel is a cWebPanel
34916>            Set peRegion to prBottom
34917>            
34917>            Object oHorizontalBreadcrumb is a cWebBreadcrumb
34919>                WebSetResponsive pbRender rmMobile to False
34920>            End_Object         
34921>        End_Object
34922>
34922>    End_Object    
34923>
34923>    Use SessionManager.wo
Including file: SessionManager.wo    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\SessionManager.wo)
34923>>>Use cWebSessionManagerStandard.pkg
Including file: cWebSessionManagerStandard.pkg    (C:\Program Files\DataFlex 20.1\Pkg\cWebSessionManagerStandard.pkg)
34923>>>>>Use cWebSessionManager.pkg
34923>>>>>Use cWebAppSessionDataDictionary.dd
Including file: cWebAppSessionDataDictionary.dd    (C:\Program Files\DataFlex 20.1\Pkg\cWebAppSessionDataDictionary.dd)
34923>>>>>>>Use DataDict.pkg
34923>>>>>>>
34923>>>>>>>Open WebAppSession
Including file: WebAppSession.fd    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\DDSrc\WebAppSession.fd)
34925>>>>>>>Open WebAppUser
Including file: WebAppUser.fd    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\DDSrc\WebAppUser.fd)
34927>>>>>>>
34927>>>>>>>Class cWebAppSessionDataDictionary is a DataDictionary
34928>>>>>>>    
34928>>>>>>>    Procedure Construct_Object
34930>>>>>>>        Forward Send Construct_Object
34932>>>>>>>        Set Main_File to WebAppSession.File_Number
34933>>>>>>>
34933>>>>>>>        Set Add_Server_File to WebAppUser.File_Number
34934>>>>>>>
34934>>>>>>>        Set ParentNullAllowed WebAppUser.File_Number to True
34935>>>>>>>
34935>>>>>>>        Set Foreign_Field_Option DD_KEYFIELD DD_NOPUT to True
34936>>>>>>>        Set Foreign_Field_Option DD_KEYFIELD DD_FINDREQ to True
34937>>>>>>>        Set Foreign_Field_Option DD_INDEXFIELD DD_NOPUT to True
34938>>>>>>>        Set Foreign_Field_Option DD_DEFAULT DD_DISPLAYONLY to True
34939>>>>>>>
34939>>>>>>>        Set Field_Option Field WebAppSession.Active DD_RETAIN to True
34940>>>>>>>        Set Field_Checkbox_Values Field WebAppSession.Active to "Y" "N"
34941>>>>>>>        Set Field_Error Field WebAppSession.Active to 500 "Invalid WebAppSession Active State"
34942>>>>>>>
34942>>>>>>>    End_Procedure
34943>>>>>>>
34943>>>>>>>    Procedure Creating
34945>>>>>>>        DateTime dtCurrentDateTime
34945>>>>>>>        
34945>>>>>>>        Forward Send Creating
34947>>>>>>>        
34947>>>>>>>        //  Init usecounter
34947>>>>>>>        Move 0 to WebAppSession.UseCount
34948>>>>>>>        
34948>>>>>>>        //  Set the creation and access time to the current time
34948>>>>>>>        Move (CurrentDateTime()) to dtCurrentDateTime
34949>>>>>>>    
34949>>>>>>>        Get TimeToString dtCurrentDateTime to WebAppSession.CreateTime
34950>>>>>>>        Get TimeToString dtCurrentDateTime to WebAppSession.LastAccessTime
34951>>>>>>>        
34951>>>>>>>        Move dtCurrentDateTime to WebAppSession.CreateDate
34952>>>>>>>        Move dtCurrentDateTime to WebAppSession.LastAccessDate
34953>>>>>>>    End_Procedure
34954>>>>>>>    
34954>>>>>>>    
34954>>>>>>>    
34954>>>>>>>    //
34954>>>>>>>    //  Converts the given time to an string that can be saved in the database.
34954>>>>>>>    //
34954>>>>>>>    //  Params:
34954>>>>>>>    //      dtTime  Time to convert
34954>>>>>>>    //  Returns:
34954>>>>>>>    //      String with "HH:MM:SS" format
34954>>>>>>>    //
34954>>>>>>>    Function TimeToString DateTime dtTime Returns String
34956>>>>>>>        String sHours sMinutes sSeconds
34956>>>>>>>        
34956>>>>>>>        //  Extract parts
34956>>>>>>>        Move (String(DateGetHour(dtTime))) to sHours
34957>>>>>>>        Move (String(DateGetMinute(dtTime))) to sMinutes
34958>>>>>>>        Move (String(DateGetSecond(dtTime))) to sSeconds
34959>>>>>>>        
34959>>>>>>>        //  Fill out with 0
34959>>>>>>>        If (Length(sHours) = 1) ;            Move ("0" + sHours) to sHours
34962>>>>>>>        If (Length(sMinutes) = 1) ;            Move ("0" + sMinutes) to sMinutes
34965>>>>>>>        If (Length(sSeconds) = 1) ;            Move ("0" + sSeconds) to sSeconds
34968>>>>>>>        
34968>>>>>>>        Function_Return (sHours + ":" + sMinutes + ":" + sSeconds)
34969>>>>>>>    End_Function
34970>>>>>>>    
34970>>>>>>>    //
34970>>>>>>>    //  Sets the time of the datetime variable to the time in the string.
34970>>>>>>>    //
34970>>>>>>>    //  Params:
34970>>>>>>>    //      dtTime  Datetime variable to add time to
34970>>>>>>>    //      sTimeString String with time in the format "HH:MM:SS"
34970>>>>>>>    //  Returns:
34970>>>>>>>    //      dtDateTime with the loaded time
34970>>>>>>>    //
34970>>>>>>>    Function StringToTime DateTime dtTime String sTimeString Returns DateTime
34972>>>>>>>        String sHours sMinutes sSeconds
34972>>>>>>>        
34972>>>>>>>        //  Extract parts
34972>>>>>>>        Move (Mid(sTimeString, 2, 1)) to sHours
34973>>>>>>>        Move (Mid(sTimeString, 2, 4)) to sMinutes
34974>>>>>>>        Move (Mid(sTimeString, 2, 7)) to sSeconds
34975>>>>>>>        
34975>>>>>>>        //  Set to DateTime
34975>>>>>>>        Move (DateSetHour(dtTime, (Integer(sHours)))) to dtTime
34976>>>>>>>        Move (DateSetMinute(dtTime, (Integer(sMinutes)))) to dtTime
34977>>>>>>>        Move (DateSetSecond(dtTime, (Integer(sSeconds)))) to dtTime
34978>>>>>>>        
34978>>>>>>>        Function_Return dtTime
34979>>>>>>>    End_Function
34980>>>>>>>
34980>>>>>>>End_Class
34981>>>>>Use cWebAppUserDataDictionary.dd
Including file: cWebAppUserDataDictionary.dd    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\DDSrc\cWebAppUserDataDictionary.dd)
34981>>>>>>>Use DataDict.pkg
34981>>>>>>>
34981>>>>>>>Open WebAppUser
34983>>>>>>>Open WebAppSession
34985>>>>>>>Open Department
Including file: Department.fd    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\DDSrc\Department.fd)
34987>>>>>>>
34987>>>>>>>Class cWebAppUserDataDictionary is a DataDictionary
34988>>>>>>>    Procedure Construct_Object
34990>>>>>>>        Forward Send Construct_Object
34992>>>>>>>        
34992>>>>>>>        Set Main_File to WebAppUser.File_Number
34993>>>>>>>
34993>>>>>>>        Set Add_Server_File to Department.File_Number
34994>>>>>>>
34994>>>>>>>        Set Add_Client_File to WebAppSession.File_Number
34995>>>>>>>
34995>>>>>>>        Set Foreign_Field_Option DD_KEYFIELD DD_NOPUT to True
34996>>>>>>>        Set Foreign_Field_Option DD_KEYFIELD DD_FINDREQ to True
34997>>>>>>>        Set Foreign_Field_Option DD_INDEXFIELD DD_NOPUT to True
34998>>>>>>>        Set Foreign_Field_Option DD_DEFAULT DD_DISPLAYONLY to True
34999>>>>>>>    End_Procedure
35000>>>>>>>
35000>>>>>>>End_Class
35001>>>>>
35001>>>>>Class cWebSessionManagerStandard is a cWebSessionManager
35002>>>>>    
35002>>>>>    Procedure Construct_Object
35004>>>>>        Handle hoUserDD hoSessionDD
35004>>>>>        
35004>>>>>        Forward Send Construct_Object
35006>>>>>        
35006>>>>>        Property Handle phoUserDD 0      // Handle to the WebAppUser DDO
35007>>>>>        Property Handle phoSessionDD 0   // Handle to the WebAppSession DDO        
35008>>>>>        
35008>>>>>        Get Create (RefClass(cWebAppUserDataDictionary)) to hoUserDD
35009>>>>>        Get Create (RefClass(cWebAppSessionDataDictionary)) to hoSessionDD
35010>>>>>        Set DDO_Server of hoSessionDD to hoUserDD
35011>>>>>
35011>>>>>        Set phoUserDD to hoUserDD
35012>>>>>        Set phoSessionDD to hoSessionDD
35013>>>>>        Property Boolean pbCreatingNewSession False
35014>>>>>        Property String psLoginName
35015>>>>>        Property String psUserName ""
35016>>>>>        Property Integer piUserRights 0
35017>>>>>    End_Procedure
35018>>>>>    
35018>>>>>    Function CreateSession String sRemoteAddress Returns String
35020>>>>>        String sSessionKey
35020>>>>>        Integer iErr
35020>>>>>        Boolean bLogWebSession
35020>>>>>        Handle hoSessionDD       
35020>>>>>        Get phoSessionDD to hoSessionDD
35021>>>>>        
35021>>>>>        //  Get session key
35021>>>>>        Forward Get CreateSession sRemoteAddress to sSessionKey
35023>>>>>        
35023>>>>>        Get pbLogWebSession to bLogWebSession
35024>>>>>        If not bLogWebSession Begin
35026>>>>>            Function_Return sSessionKey        
35027>>>>>        End
35027>>>>>>
35027>>>>>
35027>>>>>        //  Store session
35027>>>>>        Send Clear of hoSessionDD
35028>>>>>        Set Field_Changed_Value of hoSessionDD Field WebAppSession.SessionKey to sSessionKey
35029>>>>>        Set Field_Changed_Value of hoSessionDD Field WebAppSession.RemoteAddress to sRemoteAddress
35030>>>>>        Set Field_Changed_Value of hoSessionDD Field WebAppSession.Active to "Y"
35031>>>>>        Get Request_Validate of hoSessionDD to iErr
35032>>>>>        If (iErr) Begin
35034>>>>>            // this should not happen. If it does its a programming error
35034>>>>>            Error DFERR_PROGRAM C_$WebAppSesionValidateFailed
35035>>>>>>
35035>>>>>            Function_Return ""
35036>>>>>        End
35036>>>>>>
35036>>>>>        Send Request_Save of hoSessionDD
35037>>>>>        If (Err) Begin
35039>>>>>            // this shouldn't happen, if it does likely a duplicate session key issue, even through request_save already gave an error we give another one to make tracking down easier
35039>>>>>            Error DFERR_PROGRAM C_$WebAppSesionSaveFailed
35040>>>>>>
35040>>>>>            Function_Return ""
35041>>>>>        End
35041>>>>>>
35041>>>>>       
35041>>>>>        Function_Return sSessionKey        
35042>>>>>    End_Function
35043>>>>>    
35043>>>>>    
35043>>>>>    Function ValidateSession String sSessionKey Boolean bOptLoadWebApp Returns Boolean
35045>>>>>        DateTime dtLastAccess dtCurrent
35045>>>>>        TimeSpan tsDiff
35045>>>>>        Integer iErr iSessionTimeout iSpanMinutes
35045>>>>>        Boolean bResult bCreatingNewSession
35045>>>>>        Boolean bLogWebSession bLoadWebApp
35045>>>>>        Integer eLoginMode
35045>>>>>        String sTime
35045>>>>>        Handle hoSessionDD hoUserDD       
35045>>>>>        
35045>>>>>        Move False to bLoadWebApp
35046>>>>>        If (num_arguments >= 2) Begin
35048>>>>>            Move bOptLoadWebApp to bLoadWebApp
35049>>>>>        End
35049>>>>>>
35049>>>>>        
35049>>>>>        Get phoSessionDD to hoSessionDD
35050>>>>>        Get phoUserDD to hoUserDD
35051>>>>>        
35051>>>>>        Get pbLogWebSession to bLogWebSession
35052>>>>>        Get peLoginMode to eLoginMode
35053>>>>>        
35053>>>>>        // for this object, you can only disable logging if login completely is disabled
35053>>>>>        If (not(bLogWebSession) and (eLoginMode<>lmLoginNone)) Begin
35055>>>>>            Error DFERR_PROGRAM C_$WebSessionLoggingMustBeEnabled
35056>>>>>>
35056>>>>>            Function_Return False
35057>>>>>        End
35057>>>>>>
35057>>>>>
35057>>>>>        //  Clear session properties
35057>>>>>        Set psSessionKey to ""
35058>>>>>        Send UpdateSessionProperties True
35059>>>>>        
35059>>>>>        If not bLogWebSession Begin
35061>>>>>            Forward Get ValidateSession sSessionKey to bResult
35063>>>>>            Function_Return bResult
35064>>>>>        End        
35064>>>>>>
35064>>>>>        
35064>>>>>        Move False to bResult
35065>>>>>        Get piSessionTimeout to iSessionTimeout 
35066>>>>>        
35066>>>>>        //  Check if session exists
35066>>>>>        Send Clear of hoSessionDD
35067>>>>>        Move sSessionKey to WebAppSession.SessionKey
35068>>>>>        Send Find of hoSessionDD EQ Index.1
35069>>>>>            
35069>>>>>        If (Found) Begin
35071>>>>>            //  Calculate timespan between now and last access time
35071>>>>>            Move (CurrentDateTime()) to dtCurrent
35072>>>>>            Move WebAppSession.LastAccessDate to dtLastAccess
35073>>>>>            Get StringToTime of hoSessionDD dtLastAccess WebAppSession.LastAccessTime to dtLastAccess
35074>>>>>            Move (dtCurrent - dtLastAccess) to tsDiff
35075>>>>>            Move (SpanTotalMinutes(tsDiff)) to iSpanMinutes
35076>>>>>            
35076>>>>>            //  Check if session didn't time out
35076>>>>>            If (IsDateValid(dtLastAccess) and (iSessionTimeout <= 0 or (iSpanMinutes < iSessionTimeout)) and WebAppSession.Active = "Y") Begin
35078>>>>>                Forward Get ValidateSession sSessionKey to bResult
35080>>>>>                   
35080>>>>>                If (bResult) Begin
35082>>>>>                    //  Update session record
35082>>>>>                    Get TimeToString of hoSessionDD dtCurrent to sTime 
35083>>>>>                    Set Field_Changed_Value of hoSessionDD Field WebAppSession.LastAccessDate to dtCurrent
35084>>>>>                    Set Field_Changed_Value of hoSessionDD Field WebAppSession.LastAccessTime to sTime
35085>>>>>                    Set Field_Changed_Value of hoSessionDD Field WebAppSession.UseCount to (WebAppSession.UseCount + 1)
35086>>>>>                    Get Request_Validate of hoSessionDD to iErr
35087>>>>>                    If (iErr) Begin
35089>>>>>                        // this should not happen. If it does its a programming error
35089>>>>>                        Error DFERR_PROGRAM C_$WebAppSesionValidateFailed
35090>>>>>>
35090>>>>>                        Function_Return False
35091>>>>>                    End
35091>>>>>>
35091>>>>>                    Send Request_Save of hoSessionDD
35092>>>>>                    
35092>>>>>                    //  Update user properties
35092>>>>>                    Send UpdateSessionProperties False
35093>>>>>                End
35093>>>>>>
35093>>>>>            End
35093>>>>>>
35093>>>>>            Else Begin
35094>>>>>                // Test the Creating New Session Flag to protect against infinite recursion....
35094>>>>>                Get pbCreatingNewSession to bCreatingNewSession
35095>>>>>                
35095>>>>>                If (not(bCreatingNewSession)) Begin
35097>>>>>                    Set pbCreatingNewSession to True                    
35098>>>>>                    Get RecreateSession of ghoWebApp to bResult
35099>>>>>                    Set pbCreatingNewSession to False
35100>>>>>                    
35100>>>>>                    If (not(bLoadWebApp)) Begin
35102>>>>>                        Move False to bResult   //  We can only continue immediately if we were loading the webapp, other operations are not allowed!
35103>>>>>                        Error DFERR_WEBAPP_SESSION_TIMEOUT "Your application session has timed out or is inactive, please login again."
35104>>>>>>
35104>>>>>                        Send NavigateRefresh of ghoWebApp          // refresh the WebApp at the client (triggers a login)
35105>>>>>                    End
35105>>>>>>
35105>>>>>                End
35105>>>>>>
35105>>>>>            End
35105>>>>>>
35105>>>>>        End
35105>>>>>>
35105>>>>>        Else Begin
35106>>>>>            Error DFERR_WEBAPP_BAD_SESSION_KEY "Session key not known (reload page to recreate session)"
35107>>>>>>
35107>>>>>        End
35107>>>>>>
35107>>>>>        
35107>>>>>        Function_Return bResult
35108>>>>>    End_Function
35109>>>>>    
35109>>>>>    Function UserLogin String sLoginName String sPassword Returns Boolean
35111>>>>>        String sSessionKey sUserPassword
35111>>>>>        Handle hoSessionDD hoUserDD
35111>>>>>        Boolean bMatch  
35111>>>>>        
35111>>>>>        Get phoSessionDD to hoSessionDD
35112>>>>>        Get phoUserDD to hoUserDD
35113>>>>>        Integer iErr eLoginMode
35113>>>>>        
35113>>>>>        // Refind session record
35113>>>>>        Get psSessionKey to sSessionKey
35114>>>>>        Send Clear of hoSessionDD
35115>>>>>        Move sSessionKey to WebAppSession.SessionKey
35116>>>>>        Send Find of hoSessionDD EQ Index.1
35117>>>>>        
35117>>>>>        If (Found and WebAppSession.SessionKey = sSessionKey) Begin
35119>>>>>            Get peLoginMode to eLoginMode
35120>>>>>            
35120>>>>>            //  Find the user
35120>>>>>            Move sLoginName to WebAppUser.LoginName
35121>>>>>            Send Find of hoUserDD EQ Index.1
35122>>>>>            
35122>>>>>            // Check username and password
35122>>>>>            If (Found and (Lowercase(sLoginName) = Lowercase(Trim(WebAppUser.LoginName)))) Begin
35124>>>>>                Get Field_Current_Value of hoUserDD Field WebAppUser.Password to sUserPassword
35125>>>>>                Get ComparePasswords (Trim(sUserPassword)) (Trim(sPassword)) to bMatch
35126>>>>>                
35126>>>>>                If (bMatch) Begin
35128>>>>>                    // Store the login
35128>>>>>                    Set Field_Changed_Value of hoUserDD Field WebAppUser.LastLogin to (CurrentDateTime())
35129>>>>>                    Get Request_Validate of hoSessionDD to iErr
35130>>>>>                    If (iErr) Begin
35132>>>>>                        // this should not happen. If it does its a programming error
35132>>>>>                        Error DFERR_PROGRAM C_$WebAppSesionValidateFailed
35133>>>>>>
35133>>>>>                        Function_Return False
35134>>>>>                    End
35134>>>>>>
35134>>>>>                    
35134>>>>>                    Send Request_Save of hoSessionDD
35135>>>>>                    
35135>>>>>                    // Update session properties
35135>>>>>                    Send UpdateSessionProperties False
35136>>>>>                    Send NotifyChangeRights
35137>>>>>                    Function_Return True
35138>>>>>                End
35138>>>>>>
35138>>>>>                Else Begin
35139>>>>>                    //  We should rely directly on this buffer elsewhere but just be sure
35139>>>>>                    Send Clear of hoUserDD
35140>>>>>                End
35140>>>>>>
35140>>>>>            End
35140>>>>>>
35140>>>>>        End
35140>>>>>>
35140>>>>>          
35140>>>>>        Function_Return False
35141>>>>>    End_Function
35142>>>>>    
35142>>>>>    Function IsLoggedIn Returns Boolean
35144>>>>>        String sLoginName
35144>>>>>        Boolean bLogWebSession bLoggedIn
35144>>>>>        
35144>>>>>        Get pbLogWebSession to bLogWebSession
35145>>>>>        If not bLogWebSession Begin
35147>>>>>            Forward Get IsLoggedIn to bLoggedIn
35149>>>>>            Function_Return bLoggedIn
35150>>>>>        End
35150>>>>>>
35150>>>>>        
35150>>>>>        Get psLoginName to sLoginName
35151>>>>>        
35151>>>>>        Function_Return (sLoginName <> "")
35152>>>>>    End_Function
35153>>>>>    
35153>>>>>    
35153>>>>>    //
35153>>>>>    // This procedure is called when validating a session and after logging in. Its purpose is to 
35153>>>>>    // update properties based on the session and user data. Augment this function to update 
35153>>>>>    // properties based on the session / user table. Note that WebAppUser and WebAppSession contain
35153>>>>>    // the right records when this procedure is called.
35153>>>>>    //
35153>>>>>    // Params:
35153>>>>>    //      bClear   True if the procedure is called before session validation to clear properties.
35153>>>>>    //
35153>>>>>    Procedure UpdateSessionProperties Boolean bClear
35155>>>>>        Handle hoUserDD
35155>>>>>        
35155>>>>>        Get phoUserDD to hoUserDD
35156>>>>>        
35156>>>>>        //  Update user properties
35156>>>>>        If (not(bClear) and HasRecord(hoUserDD)) Begin
35158>>>>>            Set psUsername to (Trim(WebAppUser.FullName))
35159>>>>>            Set psLoginName to (Trim(WebAppUser.LoginName))
35160>>>>>            Set piUserRights to WebAppUser.Rights
35161>>>>>            
35161>>>>>            Send OnSessionPropertiesSet 
35162>>>>>        End
35162>>>>>>
35162>>>>>        Else Begin
35163>>>>>            Set psUsername to ""
35164>>>>>            Set psLoginName to ""
35165>>>>>            Set piUserRights to 0
35166>>>>>            
35166>>>>>            Send OnSessionPropertiesClear
35167>>>>>        End
35167>>>>>>
35167>>>>>    End_Procedure
35168>>>>>    
35168>>>>>    //
35168>>>>>    // This function is called to perform the password comparison. It gets the entered password and
35168>>>>>    // the password value of the user table as parameters. The WebAppUser buffer will contain the
35168>>>>>    // right record. This function can be augmented to implement security features like storing the
35168>>>>>    // password as a hashed value.
35168>>>>>    //
35168>>>>>    // Params:
35168>>>>>    //      sUserPassword       Value of the WebAppUser.Password field.
35168>>>>>    //      sEnteredPassword    Value entered on the login screen during login.
35168>>>>>    //
35168>>>>>    Function ComparePasswords String sUserPassword String sEnteredPassword Returns Boolean
35170>>>>>        Function_Return (sUserPassword = sEnteredPassword)
35171>>>>>    End_Function
35172>>>>>    
35172>>>>>    Procedure OnSessionPropertiesSet
35174>>>>>        //  Empty event stub
35174>>>>>    End_Procedure
35175>>>>>    
35175>>>>>    Procedure OnSessionPropertiesClear
35177>>>>>        //  Empty event stub
35177>>>>>    End_Procedure
35178>>>>>    
35178>>>>>    Procedure EndSession
35180>>>>>        Integer iErr
35180>>>>>        Boolean bLogWebSession
35180>>>>>        Handle hoSessionDD       
35180>>>>>        
35180>>>>>        Get phoSessionDD to hoSessionDD
35181>>>>>        Get pbLogWebSession to bLogWebSession
35182>>>>>        If not bLogWebSession Begin
35184>>>>>            Forward Send EndSession
35186>>>>>            Procedure_Return
35187>>>>>        End
35187>>>>>>
35187>>>>>            
35187>>>>>        //  Check if session exists
35187>>>>>        Send Clear of hoSessionDD
35188>>>>>        Get psSessionKey to WebAppSession.SessionKey
35189>>>>>        
35189>>>>>        Send Find of hoSessionDD EQ Index.1
35190>>>>>        If (Found) Begin
35192>>>>>            Set Field_Changed_Value of hoSessionDD Field WebAppSession.Active to "N"
35193>>>>>            Get Request_Validate of hoSessionDD to iErr
35194>>>>>            If (iErr) Begin
35196>>>>>                // this should not happen. If it does its a programming error
35196>>>>>                Error DFERR_PROGRAM C_$WebAppSesionValidateFailed
35197>>>>>>
35197>>>>>                Procedure_Return
35198>>>>>            End
35198>>>>>>
35198>>>>>            Send Request_Save of hoSessionDD
35199>>>>>        End
35199>>>>>>
35199>>>>>    End_Procedure
35200>>>>>
35200>>>>>End_Class
35201>>>>>
35201>>>
35201>>>Object oSessionManager is a cWebSessionManagerStandard
35203>>>End_Object
35204>>>
35204>>>
35204>    Use Login.wo
Including file: Login.wo    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\Login.wo)
35204>>>Use cWebView.pkg
35204>>>Use cWebForm.pkg
35204>>>Use cWebButton.pkg
35204>>>Use cWebPanel.pkg
35204>>>Use cWebLabel.pkg
35204>>>Use cWebSpacer.pkg
35204>>>Use cWebImage.pkg
35204>>>
35204>>>Object oLogin is a cWebView
35206>>>    Set piMinWidth to 250
35207>>>    Set piMaxWidth to 420
35208>>>    Set piColumnCount to 12
35209>>>    Set psCSSClass to "LoginView"
35210>>>    Set pbServerOnSubmit to True
35211>>>    
35211>>>    Set psStateViewName to "Login"
35212>>>    Set pbStateReplace to True  // Always replace the state so the login never becomes its own history item
35213>>>    
35213>>>    Property String psPrevStateHash ""  // Remember the state hash that the user navigated too so we can redirect after login
35217>>>
35217>>>    Set pbLoginModeEnforced to False
35218>>>    
35218>>>    Delegate Set phoLoginView to Self
35220>>>    
35220>>>    Object oTopSpacer is a cWebSpacer
35222>>>        Set pbFillHeight to True
35223>>>        Set piColumnSpan to 12
35224>>>    End_Object
35225>>>    
35225>>>    Object oWarning is a cWebLabel
35227>>>        Set pbVisible to False
35228>>>        Set psCaption to "Invalid User ID or password. \n\rHint: 'Guest' & 'guest'. Or 'admin' & 'admin'"
35229>>>        Set peAlign to alignCenter
35230>>>        Set piColumnSpan to 12
35231>>>        Set psCSSClass to "LoginWarning"
35232>>>    End_Object
35233>>>    
35233>>>    Object oLogo is a cWebImage
35235>>>        Set piColumnSpan to 10
35236>>>        Set psUrl to "images/car1.png"
35237>>>        Set pePosition to wiFit
35238>>>        Set piHeight to 200
35239>>>        Set piColumnIndex to 1
35240>>>        
35240>>>        WebSetResponsive piHeight rmMobile to 100  // Best for small smart phones
35241>>>    End_Object
35242>>>    
35242>>>    Object oLoginName is a cWebForm
35244>>>        Set psLabel to "User ID:"
35245>>>        Set peLabelPosition to lpTop
35246>>>        Set piMaxLength to 20
35247>>>        Set piColumnIndex to 1
35248>>>        Set pbShowLabel to False
35249>>>        Set psPlaceHolder to "loginname"
35250>>>        Set piColumnSpan to 10
35251>>>        Set psAutoComplete to "username"
35252>>>    End_Object
35253>>>    
35253>>>    Object oPassword is a cWebForm
35255>>>        Set psLabel to "Password:"
35256>>>        Set pbPassword to True
35257>>>        Set peLabelAlign to alignLeft
35258>>>        Set piMaxLength to 20
35259>>>        Set peLabelPosition to lpTop
35260>>>        Set pbShowLabel to False
35261>>>        Set psPlaceHolder to "password"
35262>>>        Set piColumnSpan to 10
35263>>>        Set piColumnIndex to 1
35264>>>        Set psAutoComplete to "current-password"
35265>>>    End_Object
35266>>>    
35266>>>    Object oWebSpacer1 is a cWebSpacer
35268>>>        Set piColumnSpan to 12
35269>>>        Set piHeight to 10
35270>>>    End_Object
35271>>>    
35271>>>    Object oLoginButton is a cWebButton
35273>>>        Set pbShowLabel to False
35274>>>        Set psCaption to "sign in"
35275>>>        Set pbServerOnClick to True
35276>>>        Set piColumnSpan to 10
35277>>>        Set piColumnIndex to 1
35278>>>        
35278>>>        Procedure OnClick
35281>>>            Send DoLogin
35282>>>        End_Procedure
35283>>>
35283>>>        Procedure OnFocus
35286>>>            Forward Send OnFocus
35288>>>        End_Procedure
35289>>>    End_Object
35290>>>    
35290>>>    Object oBottomSpacer is a cWebSpacer
35292>>>        Set pbFillHeight to True
35293>>>        Set piColumnSpan to 12
35294>>>    End_Object
35295>>>    
35295>>>    Procedure DoLogin
35298>>>        String sLoginName sPassword sPrevStateHash
35298>>>        Boolean bResult
35298>>>        
35298>>>        WebGet psValue of oLoginName to sLoginName
35301>>>        WebGet psValue of oPassword to sPassword
35304>>>        
35304>>>        Get UserLogin of ghoWebSessionManager sLoginName sPassword to bResult
35305>>>        
35305>>>        If (bResult) Begin
35307>>>            Send Hide of oLogin
35308>>>            Send ShowHeader of ghoWebApp
35309>>>            WebSet psCSSClass of ghoWebApp to ""
35310>>>            
35310>>>            WebGet psPrevStateHash to sPrevStateHash
35313>>>            Send NavigateToStateHash of ghoWebApp sPrevStateHash True
35314>>>            
35314>>>            // clear the login values. we don't want to return the login id & password as synchronized properties....
35314>>>            WebSet psValue of oLoginName to ""
35315>>>            WebSet psValue of oPassword  to ""
35316>>>            WebSet pbVisible of oWarning to False
35317>>>        End
35317>>>>
35317>>>        Else Begin
35318>>>            WebSet pbVisible of oWarning to True
35319>>>        End
35319>>>>
35319>>>    End_Procedure
35320>>>    
35320>>>    Procedure OnSubmit
35323>>>        Send DoLogin
35324>>>    End_Procedure
35325>>>    
35325>>>    Procedure OnLoad
35328>>>        String sPrevStateHash sView
35328>>>        
35328>>>        Forward Send OnLoad
35330>>>        
35330>>>        //  Store the current state so we can go back to that later (only if it points to a different view)
35330>>>        Get StateHash of ghoWebApp to sPrevStateHash
35331>>>        Send ParseViewStateHash sPrevStateHash (&sView)
35332>>>        If (Lowercase(sView) <> Lowercase(psStateViewName(Self))) Begin
35334>>>            WebSet psPrevStateHash to sPrevStateHash
35335>>>        End
35335>>>>
35335>>>        
35335>>>    End_Procedure
35336>>>    
35336>>>    Procedure OnBeforeShow
35339>>>        //  Hide header & apply nice background style
35339>>>        Send HideHeader to ghoWebApp
35340>>>        WebSet psCSSClass of ghoWebApp to "LoginBackground"
35341>>>    End_Procedure
35342>>>    
35342>>>End_Object
35343>>>
35343>>>
35343>>>
35343>>>
35343>    Use WebResourceManager.wo
Including file: WebResourceManager.wo    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\WebResourceManager.wo)
35343>>>Use cWebResourceManager.pkg
35343>>>
35343>>>Object oWebResourceManager is a cWebResourceManager
35345>>>End_Object
35346>    
35346>    Use Dashboard.wo
Including file: Dashboard.wo    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\Dashboard.wo)
35346>>>Use cWebView.pkg
35346>>>Use cWebPanel.pkg
35346>>>Use cWebForm.pkg
35346>>>Use cWebButton.pkg
35346>>>Use cWebGroup.pkg
35346>>>Use cWebSpacer.pkg
35346>>>Use cWebHtmlBox.pkg
35346>>>Use cWebMenuGroup.pkg
35346>>>Use cWebMenuItem.pkg
35346>>>Use cWebLabel.pkg
35346>>>Use cWebList.pkg
35346>>>Use cWebColumn.pkg
35346>>>Use cWebHtmlList.pkg
35346>>>
35346>>>
35346>>>Object oDashboard is a cWebView
35348>>>
35348>>>    // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
35348>>>    // Add a DDO Structure 
35348>>>    //
35348>>>    // There is no need to synchronize a DD structure on the client so we do
35348>>>    // not set the Server property or send ADDOStructure. We will simply use
35348>>>    // DDO's to mine data and generate HTML for our cWebHTMLBox objects.
35348>>>    // It is the HTML in these objects that is sent to the client each time 
35348>>>    // this page is shown.
35348>>>    //
35348>>>    // Also, it is important for the drill-down Navigation interface that we
35348>>>    // do not set the Server property to some DDO because this will affect 
35348>>>    // constraints in the next view that we navigate to.
35348>>>    // - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
35348>>>
35348>>>    Set piMaxWidth to 1024
35349>>>    
35349>>>    Set psCaption to "Dashboard"
35350>>>    Set peViewType to vtUndefined
35351>>>    Set pbShowCaption to False
35352>>>    Set psCSSClass to "Dashboard"
35353>>>    
35353>>>    Object oWebMainPanel is a cWebPanel
35355>>>        Set piColumnCount to 24
35356>>>
35356>>>        Object oInfos is a cWebHtmlBox
35358>>>            Set piColumnSpan to 10
35359>>>            Set psCSSClass to "Tile Light"
35360>>>            Set psHtml to '<div Class="WebCon_Sizer"><div class="Tile_Title">Infos</div><div Class="Tile_Subtitle">--</div></div>'
35361>>>            Set piColumnIndex to 1
35362>>>
35362>>>            Procedure OnLoad
35365>>>                Send UpdateHTML ('<div class="WebCon_Sizer">' + ;                                 '<div class="Tile_Title">Infos</div>' +;                                 '<div class="Tile_Subtitle">' - htmlEncode(psUsername(ghoWebSessionManager)) - '</div>' +;                                 '<div class="Tile_Title">City</div>' +;                                 '<div class="Tile_Subtitle">' - htmlEncode(WebAppUser.City) - '</div>' +;                                 '<div class="Tile_Title">Password</div>' +;                                 '<div class="Tile_Subtitle">' - htmlEncode(WebAppUser.Password) - '</div>' +;                                 '<div class="Tile_Title">Encrypt Password</div>' +;                                 '<div class="Tile_Subtitle">' - htmlEncode(psEncryptPassword(ghoWebSessionManager)) - '</div>' +;                                 '</div>')
35366>>>            End_Procedure
35367>>>
35367>>>            Procedure OnClick String sId String sParam
35370>>>                Forward Send OnClick sId sParam
35372>>>            End_Procedure
35373>>>            
35373>>>        End_Object
35374>>>        
35374>>>        // - - - - - - - - - - - - - - -
35374>>>        // Main Panel's Responsive Rules
35374>>>        // - - - - - - - - - - - - - - -
35374>>>        WebSetResponsive piColumnCount rmMobile to 1
35375>>>        WebSetResponsive piColumnCount rmTabletPortrait to 16
35376>>>    
35376>>>        Object oTiles_grp is a cWebGroup
35378>>>            Set piColumnSpan to 8
35379>>>            Set pbShowBorder to False
35380>>>            Set pbShowCaption to False
35381>>>            Set piColumnCount to 4
35382>>>            
35382>>>            Set psCSSClass to "TilesGroup"
35383>>>            Set piColumnIndex to 2
35384>>>    
35384>>>            Object oTile2 is a cWebHtmlBox
35386>>>                Set pbServerOnClick to True
35387>>>                Set piColumnSpan to 6
35388>>>                Set psCSSClass to "Tile LightAlternate"
35389>>>                Set psHtml to '<div class="WebCon_Sizer" data-ServerOnClick="openview"><div Class="Tile_Title">Cars</div><div class="Tile_Subtitle"></div></div>'
35390>>>                                
35390>>>                WebRegisterPath ntNavigateForwardCustom oCarSelect
35396>>>                
35396>>>                Procedure OnClick String sId String sParam
35399>>>                    Send NavigatePath
35400>>>                End_Procedure
35401>>>                
35401>>>            End_Object
35402>>>    
35402>>>            Object oTile3 is a cWebHtmlBox
35404>>>                Set pbServerOnClick to True
35405>>>                Set piColumnSpan to 6
35406>>>                Set psCSSClass to "Tile Dark"
35407>>>                Set psHtml to '<div class="WebCon_Sizer" data-ServerOnClick="openview"><div Class="Tile_Title">Fuels</div><div class="Tile_Subtitle"></div></div>'
35408>>>    
35408>>>                WebRegisterPath ntNavigateForwardCustom oFuelSelect
35414>>>                
35414>>>                Procedure OnClick String sId String sParam
35417>>>                    Send NavigatePath
35418>>>                End_Procedure
35419>>>                
35419>>>            End_Object
35420>>>    
35420>>>            Object oTile4 is a cWebHtmlBox
35422>>>                Set pbServerOnClick to True
35423>>>                Set piColumnSpan to 6
35424>>>                Set piColumnIndex to 6
35425>>>                Set psCSSClass to "Tile DarkAlternate"
35426>>>                Set psHtml to '<div class="WebCon_Sizer" data-ServerOnClick="openview"><div Class="Tile_Title">Gearboxs</div><div class="Tile_Subtitle"></div></div>'
35427>>>            
35427>>>                WebRegisterPath ntNavigateForwardCustom oGearboxSelect
35433>>>                
35433>>>                Procedure OnClick String sId String sParam
35436>>>                    Send NavigatePath
35437>>>                End_Procedure
35438>>>                
35438>>>            End_Object
35439>>>            
35439>>>            Object oTile5 is a cWebHtmlBox
35441>>>                Set pbServerOnClick to True
35442>>>                Set piColumnSpan to 6
35443>>>                Set piColumnIndex to 6
35444>>>                Set psCSSClass to "Tile DarkAlternate"
35445>>>                Set psHtml to '<div class="WebCon_Sizer" data-ServerOnClick="openview"><div Class="Tile_Title">Department</div><div class="Tile_Subtitle"></div></div>'
35446>>>            
35446>>>                WebRegisterPath ntNavigateForwardCustom oDepartmentSelect
35452>>>                
35452>>>                Procedure OnClick String sId String sParam
35455>>>                    Send NavigatePath
35456>>>                End_Procedure
35457>>>                
35457>>>            End_Object
35458>>>        End_Object
35459>>>
35459>>>    End_Object
35460>>>    
35460>>>    Procedure OnBeforeShow
35463>>>        // Each time this view is shown we will update the appropriate information.
35463>>>    End_Procedure
35464>>>
35464>>>End_Object
35465>    Use FuelZoom.wo
Including file: FuelZoom.wo    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\FuelZoom.wo)
35465>>>// C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\FuelZoom.wo
35465>>>// Fuel
35465>>>//
35465>>>
35465>>>Use cWebView.pkg
35465>>>Use cWebPanel.pkg
35465>>>Use cWebMenuGroup.pkg
35465>>>Use cWebMenuItem.pkg
35465>>>Use cWebForm.pkg
35465>>>
35465>>>Use cFuelDataDictionary.dd
Including file: cFuelDataDictionary.dd    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\DDSrc\cFuelDataDictionary.dd)
35465>>>>>Use DataDict.pkg
35465>>>>>
35465>>>>>Open Fuel
Including file: Fuel.fd    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\DDSrc\Fuel.fd)
35467>>>>>Open SysFile
Including file: SysFile.fd    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\DDSrc\SysFile.fd)
35469>>>>>Open Cars
Including file: Cars.fd    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\DDSrc\Cars.fd)
35471>>>>>
35471>>>>>Class cFuelDataDictionary is a DataDictionary
35472>>>>>    
35472>>>>>    Procedure Construct_Object
35474>>>>>        Forward Send Construct_Object
35476>>>>>        Set Main_File to Fuel.File_Number
35477>>>>>
35477>>>>>        Set Add_Client_File to Cars.File_Number
35478>>>>>
35478>>>>>        Set Add_System_File to SysFile.File_Number DD_Lock_On_All
35479>>>>>
35479>>>>>        Set Foreign_Field_Option DD_KEYFIELD DD_NOPUT to True
35480>>>>>        Set Foreign_Field_Option DD_KEYFIELD DD_FINDREQ to True
35481>>>>>        Set Foreign_Field_Option DD_INDEXFIELD DD_NOPUT to True
35482>>>>>        Set Foreign_Field_Option DD_DEFAULT DD_DISPLAYONLY to True
35483>>>>>
35483>>>>>        Set Field_Auto_Increment Field Fuel.FuelId to File_Field SysFile.FuelId
35484>>>>>
35484>>>>>    End_Procedure
35485>>>>>
35485>>>>>End_Class
35486>>>
35486>>>Object oFuelZoom is a cWebView
35488>>>    Set piColumnCount to 12
35489>>>    Set psCaption to "Fuel"
35490>>>    Set peWebViewStyle to wvsDrilldown
35491>>>    Set peViewType to vtZoom
35492>>>    Set pbShowCaption to False
35493>>>    Set Verify_Save_Msg to 0
35494>>>    Set piMaxWidth to 1024
35495>>>
35495>>>    Object oFuel_DD is a cFuelDataDictionary
35497>>>    End_Object 
35498>>>
35498>>>    Set Main_DD To oFuel_DD
35499>>>    Set Server  To oFuel_DD
35500>>>
35500>>>
35500>>>    Object oWebMainPanel is a cWebPanel
35502>>>        Set piColumnCount to 12
35503>>>        WebSetResponsive piColumnCount rmMobile to 4
35504>>>
35504>>>        Object oFuelFuelId is a cWebForm
35506>>>            Entry_Item Fuel.FuelId
35507>>>            Set piColumnSpan to 2
35508>>>            Set piColumnIndex to 0
35509>>>            Set peLabelPosition to lpTop
35510>>>            Set psLabel to "FuelId"
35511>>>        End_Object 
35512>>>
35512>>>        Object oFuelFuelName is a cWebForm
35514>>>            Entry_Item Fuel.FuelName
35515>>>            Set piColumnSpan to 4
35516>>>            Set piColumnIndex to 0
35517>>>            Set peLabelPosition to lpTop
35518>>>            Set psLabel to "FuelName"
35519>>>        End_Object 
35520>>>    End_Object 
35521>>>
35521>>>    Object oActionGroup is a cWebMenuGroup
35523>>>
35523>>>        Object oSaveBtn is a cWebMenuItem
35525>>>            Set psCSSClass to "WebSaveMenuItem"
35526>>>            Set psCaption to "Save"
35527>>>
35527>>>            Procedure OnClick
35530>>>                Send Request_Save
35531>>>            End_Procedure
35532>>>
35532>>>        End_Object 
35533>>>
35533>>>        Object oEditBtn is a cWebMenuItem
35535>>>            Set psCSSClass to "WebEditMenuItem"
35536>>>            Set psCaption to "Edit"
35537>>>            Procedure OnClick
35540>>>                Send ChangeEditMode True
35541>>>                Send SetActionButtons
35542>>>            End_Procedure
35543>>>
35543>>>        End_Object 
35544>>>
35544>>>        Object oDeleteBtn is a cWebMenuItem
35546>>>            Set psCSSClass to "WebDeleteMenuItem"
35547>>>            Set psCaption to "Delete"
35548>>>            Set peActionDisplay to adMenu
35549>>>
35549>>>            Procedure OnClick
35552>>>                Send Request_Delete
35553>>>            End_Procedure
35554>>>
35554>>>        End_Object 
35555>>>
35555>>>        Object oCancelChangesBtn is a cWebMenuItem
35557>>>            Set psCSSClass to "WebIcon_Refresh"
35558>>>            Set psCaption to "Clear Changes"
35559>>>            Set peActionDisplay to adMenu
35560>>>            Procedure OnClick
35563>>>                Send RefreshRecord
35564>>>            End_Procedure
35565>>>
35565>>>        End_Object 
35566>>>    End_Object 
35567>>>
35567>>>    Procedure SetActionButtons
35570>>>        tWebNavigateData NavigateData
35570>>>        tWebNavigateData NavigateData
35570>>>        Boolean bHasRecord
35570>>>        Handle hoDD
35570>>>
35570>>>        Get Server to hoDD
35571>>>        Get GetNavigateData to NavigateData
35572>>>        Get HasRecord of hoDD to bHasRecord
35573>>>
35573>>>        // let's hide all buttons and then Show the ones we want
35573>>>        WebSet pbRender of oEditBtn to False
35574>>>        WebSet pbRender of oSaveBtn to False
35575>>>        WebSet pbRender of oCancelChangesBtn to False
35576>>>        WebSet pbRender of oDeleteBtn to False
35577>>>
35577>>>        If (NavigateData.bReadOnly) Begin
35579>>>            WebSet pbRender of oEditBtn to True
35580>>>        End
35580>>>>
35580>>>        Else Begin
35581>>>            WebSet pbRender of oSaveBtn to True
35582>>>            WebSet pbRender of oCancelChangesBtn to True
35583>>>            WebSet pbRender of oDeleteBtn to bHasRecord
35584>>>        End
35584>>>>
35584>>>    End_Procedure
35585>>>
35585>>>    Procedure OnViewSaved Handle hoServer Boolean bChanged
35588>>>        // Close after save
35588>>>        Send NavigateClose Self
35589>>>    End_Procedure
35590>>>
35590>>>    // this will close the view after a delete
35590>>>    Procedure OnViewDeleted Handle hoDDO
35593>>>        Send NavigateClose Self
35594>>>    End_Procedure
35595>>>
35595>>>    Procedure OnNavigateForward tWebNavigateData NavigateData Integer hoInvokingView Integer hoInvokingObject
35598>>>        Case Begin
35598>>>            Case (NavigateData.eNavigateType = nfFromMain)
35600>>>                // If from main, this is a propbably a main file Select to Zoom.
35600>>>                Case Break
35601>>>
35601>>>            Case (NavigateData.eNavigateType = nfFromParent)
35604>>>                // If from parent, this is a constrained drill down.
35604>>>                Case Break
35605>>>
35605>>>            Case (NavigateData.eNavigateType = nfFromChild)
35608>>>                // If from child, this is a probably a parent Zoom from a Zoom.
35608>>>                Case Break
35609>>>
35609>>>            Case Else // must be nfUndefined
35609>>>
35609>>>        Case End
35609>>>
35609>>>        Send SetActionButtons
35610>>>
35610>>>    End_Procedure
35611>>>
35611>>>End_Object 
35612>    Use FuelSelect.wo
Including file: FuelSelect.wo    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\FuelSelect.wo)
35612>>>// C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\FuelSelect.wo
35612>>>// Fuel
35612>>>//
35612>>>
35612>>>Use cWebView.pkg
35612>>>Use cWebList.pkg
35612>>>Use cWebMenuGroup.pkg
35612>>>Use cWebMenuItem.pkg
35612>>>Use cWebColumnButton.pkg
35612>>>Use cWebColumn.pkg
35612>>>Use FuelZoom.wo
35612>>>
35612>>>Use cFuelDataDictionary.dd
35612>>>
35612>>>Object oFuelSelect is a cWebView
35614>>>    Set psCaption to "Fuel"
35615>>>    Set peWebViewStyle to wvsDrilldown
35616>>>    Set peViewType to vtSelect
35617>>>    Set piColumnCount to 12
35618>>>    Set pbShowCaption to False
35619>>>    Set piMaxWidth to 1024
35620>>>
35620>>>    Object oFuel_DD is a cFuelDataDictionary
35622>>>    End_Object 
35623>>>
35623>>>    Set Main_DD To oFuel_DD
35624>>>    Set Server  To oFuel_DD
35625>>>
35625>>>
35625>>>    Object oList is a cWebList
35627>>>        Set piColumnSpan to 0
35628>>>        Set psCSSClass to "MobileList"
35629>>>        Set pbServerOnRowClick to True
35630>>>        Set pbFillHeight to True
35631>>>        Set pbShowHeader to False
35632>>>        Set piSortColumn to 0
35633>>>
35633>>>        Object oFuelFuelId is a cWebColumn
35635>>>            Entry_Item Fuel.FuelId
35636>>>            Set psCaption to "Fuel.FuelId"
35637>>>            Set piWidth to 100
35638>>>        End_Object 
35639>>>
35639>>>        Object oFuelFuelName is a cWebColumn
35641>>>            Entry_Item Fuel.FuelName
35642>>>            Set psCaption to "Fuel.FuelName"
35643>>>            Set piWidth to 200
35644>>>        End_Object 
35645>>>
35645>>>        Object oDetailButton is a cWebColumnButton
35647>>>            Set psCaption to "btn"
35648>>>            Set piWidth to 45
35649>>>            Set pbFixedWidth to True
35650>>>            Set pbResizable to False
35651>>>            Set piListRowSpan to 1
35652>>>            Set psBtnCssClass to "WebButtonIcon WebIcon_Info"
35653>>>            Set peAlign to alignRight
35654>>>
35654>>>            WebRegisterPath ntNavigateForward oFuelZoom
35660>>>
35660>>>            Procedure OnClick
35663>>>                Send NavigatePath
35664>>>            End_Procedure
35665>>>
35665>>>            Procedure OnGetNavigateForwardData tWebNavigateData ByRef NavigateData Handle hoToView
35668>>>                Move True to NavigateData.bReadOnly
35669>>>            End_Procedure
35670>>>
35670>>>        End_Object 
35671>>>
35671>>>        WebRegisterPath ntNavigateForward oFuelZoom
35677>>>
35677>>>        Procedure OnRowClick String sRowId
35680>>>            tWebNavigateData NavigateData
35680>>>            tWebNavigateData NavigateData
35680>>>            Get GetNavigateData to NavigateData
35681>>>
35681>>>            Case Begin
35681>>>                Case (NavigateData.eNavigateType = nfFromParent)
35683>>>                    Send NavigateForward of oFuelZoom Self
35684>>>                    Case Break
35685>>>
35685>>>                Case (NavigateData.eNavigateType = nfFromChild)
35688>>>                    Send NavigateClose Self
35689>>>                    Case Break
35690>>>
35690>>>                Case (NavigateData.eNavigateType = nfFromMain)
35693>>>                    Send NavigateClose Self
35694>>>                    Case Break
35695>>>
35695>>>                Case Else // must be nfUndefined
35695>>>                    Send NavigateForward of oFuelZoom Self
35696>>>
35696>>>            Case End
35696>>>        End_Procedure
35697>>>
35697>>>        Procedure OnGetNavigateForwardData tWebNavigateData ByRef NavigateData Handle hoToView
35700>>>            Move True to NavigateData.bReadOnly
35701>>>        End_Procedure
35702>>>
35702>>>    End_Object 
35703>>>
35703>>>    Object oActionGroup is a cWebMenuGroup
35705>>>
35705>>>        Object oSearch is a cWebMenuItem
35707>>>            Set psCSSClass to "WebPromptMenuItem"
35708>>>            Set psCaption to "Search"
35709>>>
35709>>>            Procedure OnClick
35712>>>                Send Search of oList
35713>>>            End_Procedure
35714>>>
35714>>>        End_Object 
35715>>>
35715>>>        Object oNewButton is a cWebMenuItem
35717>>>            Set psCSSClass to "WebClearMenuItem"
35718>>>            Set psCaption to "New"
35719>>>
35719>>>            WebRegisterPath ntNavigateForward oFuelZoom
35725>>>
35725>>>            Procedure OnClick
35728>>>                Send NavigatePath
35729>>>            End_Procedure
35730>>>
35730>>>            Procedure OnGetNavigateForwardData tWebNavigateData ByRef NavigateData Handle hoToView
35733>>>                Move True to NavigateData.bNewRecord
35734>>>            End_Procedure
35735>>>
35735>>>        End_Object 
35736>>>    End_Object 
35737>>>
35737>>>    Procedure OnNavigateForward tWebNavigateData NavigateData Integer hoInvokingView Integer hoInvokingObject
35740>>>        WebSet pbRender of oNewButton to True
35741>>>        WebSet pbRender of oDetailButton to True
35742>>>
35742>>>        Case Begin
35742>>>            Case (NavigateData.eNavigateType = nfFromParent)
35744>>>                // If from parent, this is a constrained drill down
35744>>>                Case Break
35745>>>
35745>>>            Case (NavigateData.eNavigateType = nfFromChild)
35748>>>                // If from child, this is a probably a parent lookup from a Zoom
35748>>>                Case Break
35749>>>
35749>>>            Case (NavigateData.eNavigateType = nfFromMain)
35752>>>                // If from main, this is a probably a main-file lookup from a Zoom
35752>>>                WebSet pbRender of oDetailButton to False
35753>>>                Case Break
35754>>>
35754>>>            Case Else // must be nfUndefined
35754>>>                // This may be the start of a drilldown query or this may be used for some kind of custom query.
35754>>>
35754>>>        Case End
35754>>>
35754>>>    End_Procedure
35755>>>
35755>>>
35755>>>End_Object 
35756>    Use GearboxZoom.wo
Including file: GearboxZoom.wo    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\GearboxZoom.wo)
35756>>>// C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\GearboxZoom.wo
35756>>>// Gearbox
35756>>>//
35756>>>
35756>>>Use cWebView.pkg
35756>>>Use cWebPanel.pkg
35756>>>Use cWebMenuGroup.pkg
35756>>>Use cWebMenuItem.pkg
35756>>>Use cWebForm.pkg
35756>>>
35756>>>Use cGearboxDataDictionary.dd
Including file: cGearboxDataDictionary.dd    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\DDSrc\cGearboxDataDictionary.dd)
35756>>>>>Use DataDict.pkg
35756>>>>>
35756>>>>>Open Gearbox
Including file: Gearbox.fd    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\DDSrc\Gearbox.fd)
35758>>>>>Open SysFile
35760>>>>>Open Cars
35762>>>>>
35762>>>>>Class cGearboxDataDictionary is a DataDictionary
35763>>>>>    
35763>>>>>    Procedure Construct_Object
35765>>>>>        Forward Send Construct_Object
35767>>>>>        Set Main_File to Gearbox.File_Number
35768>>>>>
35768>>>>>        Set Add_Client_File to Cars.File_Number
35769>>>>>
35769>>>>>        Set Add_System_File to SysFile.File_Number DD_Lock_On_All
35770>>>>>
35770>>>>>        Set Foreign_Field_Option DD_KEYFIELD DD_NOPUT to True
35771>>>>>        Set Foreign_Field_Option DD_KEYFIELD DD_FINDREQ to True
35772>>>>>        Set Foreign_Field_Option DD_INDEXFIELD DD_NOPUT to True
35773>>>>>        Set Foreign_Field_Option DD_DEFAULT DD_DISPLAYONLY to True
35774>>>>>
35774>>>>>        Set Field_Auto_Increment Field Gearbox.GearboxId to File_Field SysFile.GearboxId
35775>>>>>
35775>>>>>    End_Procedure
35776>>>>>
35776>>>>>End_Class
35777>>>
35777>>>Object oGearboxZoom is a cWebView
35779>>>    Set piColumnCount to 12
35780>>>    Set psCaption to "Gearbox"
35781>>>    Set peWebViewStyle to wvsDrilldown
35782>>>    Set peViewType to vtZoom
35783>>>    Set pbShowCaption to False
35784>>>    Set Verify_Save_Msg to 0
35785>>>    Set piMaxWidth to 1024
35786>>>
35786>>>    Object oGearbox_DD is a cGearboxDataDictionary
35788>>>    End_Object 
35789>>>
35789>>>    Set Main_DD To oGearbox_DD
35790>>>    Set Server  To oGearbox_DD
35791>>>
35791>>>
35791>>>    Object oWebMainPanel is a cWebPanel
35793>>>        Set piColumnCount to 12
35794>>>        WebSetResponsive piColumnCount rmMobile to 4
35795>>>
35795>>>        Object oGearboxGearboxId is a cWebForm
35797>>>            Entry_Item Gearbox.GearboxId
35798>>>            Set piColumnSpan to 2
35799>>>            Set piColumnIndex to 0
35800>>>            Set peLabelPosition to lpTop
35801>>>            Set psLabel to "GearboxId"
35802>>>        End_Object 
35803>>>
35803>>>        Object oGearboxGearboxName is a cWebForm
35805>>>            Entry_Item Gearbox.GearboxName
35806>>>            Set piColumnSpan to 2
35807>>>            Set piColumnIndex to 0
35808>>>            Set peLabelPosition to lpTop
35809>>>            Set psLabel to "GearboxName"
35810>>>        End_Object 
35811>>>    End_Object 
35812>>>
35812>>>    Object oActionGroup is a cWebMenuGroup
35814>>>
35814>>>        Object oSaveBtn is a cWebMenuItem
35816>>>            Set psCSSClass to "WebSaveMenuItem"
35817>>>            Set psCaption to "Save"
35818>>>
35818>>>            Procedure OnClick
35821>>>                Send Request_Save
35822>>>            End_Procedure
35823>>>
35823>>>        End_Object 
35824>>>
35824>>>        Object oEditBtn is a cWebMenuItem
35826>>>            Set psCSSClass to "WebEditMenuItem"
35827>>>            Set psCaption to "Edit"
35828>>>            Procedure OnClick
35831>>>                Send ChangeEditMode True
35832>>>                Send SetActionButtons
35833>>>            End_Procedure
35834>>>
35834>>>        End_Object 
35835>>>
35835>>>        Object oDeleteBtn is a cWebMenuItem
35837>>>            Set psCSSClass to "WebDeleteMenuItem"
35838>>>            Set psCaption to "Delete"
35839>>>            Set peActionDisplay to adMenu
35840>>>
35840>>>            Procedure OnClick
35843>>>                Send Request_Delete
35844>>>            End_Procedure
35845>>>
35845>>>        End_Object 
35846>>>
35846>>>        Object oCancelChangesBtn is a cWebMenuItem
35848>>>            Set psCSSClass to "WebIcon_Refresh"
35849>>>            Set psCaption to "Clear Changes"
35850>>>            Set peActionDisplay to adMenu
35851>>>            Procedure OnClick
35854>>>                Send RefreshRecord
35855>>>            End_Procedure
35856>>>
35856>>>        End_Object 
35857>>>    End_Object 
35858>>>
35858>>>    Procedure SetActionButtons
35861>>>        tWebNavigateData NavigateData
35861>>>        tWebNavigateData NavigateData
35861>>>        Boolean bHasRecord
35861>>>        Handle hoDD
35861>>>
35861>>>        Get Server to hoDD
35862>>>        Get GetNavigateData to NavigateData
35863>>>        Get HasRecord of hoDD to bHasRecord
35864>>>
35864>>>        // let's hide all buttons and then Show the ones we want
35864>>>        WebSet pbRender of oEditBtn to False
35865>>>        WebSet pbRender of oSaveBtn to False
35866>>>        WebSet pbRender of oCancelChangesBtn to False
35867>>>        WebSet pbRender of oDeleteBtn to False
35868>>>
35868>>>        If (NavigateData.bReadOnly) Begin
35870>>>            WebSet pbRender of oEditBtn to True
35871>>>        End
35871>>>>
35871>>>        Else Begin
35872>>>            WebSet pbRender of oSaveBtn to True
35873>>>            WebSet pbRender of oCancelChangesBtn to True
35874>>>            WebSet pbRender of oDeleteBtn to bHasRecord
35875>>>        End
35875>>>>
35875>>>    End_Procedure
35876>>>
35876>>>    Procedure OnViewSaved Handle hoServer Boolean bChanged
35879>>>        // Close after save
35879>>>        Send NavigateClose Self
35880>>>    End_Procedure
35881>>>
35881>>>    // this will close the view after a delete
35881>>>    Procedure OnViewDeleted Handle hoDDO
35884>>>        Send NavigateClose Self
35885>>>    End_Procedure
35886>>>
35886>>>    Procedure OnNavigateForward tWebNavigateData NavigateData Integer hoInvokingView Integer hoInvokingObject
35889>>>        Case Begin
35889>>>            Case (NavigateData.eNavigateType = nfFromMain)
35891>>>                // If from main, this is a propbably a main file Select to Zoom.
35891>>>                Case Break
35892>>>
35892>>>            Case (NavigateData.eNavigateType = nfFromParent)
35895>>>                // If from parent, this is a constrained drill down.
35895>>>                Case Break
35896>>>
35896>>>            Case (NavigateData.eNavigateType = nfFromChild)
35899>>>                // If from child, this is a probably a parent Zoom from a Zoom.
35899>>>                Case Break
35900>>>
35900>>>            Case Else // must be nfUndefined
35900>>>
35900>>>        Case End
35900>>>
35900>>>        Send SetActionButtons
35901>>>
35901>>>    End_Procedure
35902>>>
35902>>>End_Object 
35903>    Use GearboxSelect.wo
Including file: GearboxSelect.wo    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\GearboxSelect.wo)
35903>>>// C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\GearboxSelect.wo
35903>>>// Gearbox
35903>>>//
35903>>>
35903>>>Use cWebView.pkg
35903>>>Use cWebList.pkg
35903>>>Use cWebMenuGroup.pkg
35903>>>Use cWebMenuItem.pkg
35903>>>Use cWebColumnButton.pkg
35903>>>Use cWebColumn.pkg
35903>>>Use GearboxZoom.wo
35903>>>
35903>>>Use cGearboxDataDictionary.dd
35903>>>
35903>>>Object oGearboxSelect is a cWebView
35905>>>    Set psCaption to "Gearbox"
35906>>>    Set peWebViewStyle to wvsDrilldown
35907>>>    Set peViewType to vtSelect
35908>>>    Set piColumnCount to 12
35909>>>    Set pbShowCaption to False
35910>>>    Set piMaxWidth to 1024
35911>>>
35911>>>    Object oGearbox_DD is a cGearboxDataDictionary
35913>>>    End_Object 
35914>>>
35914>>>    Set Main_DD To oGearbox_DD
35915>>>    Set Server  To oGearbox_DD
35916>>>
35916>>>
35916>>>    Object oList is a cWebList
35918>>>        Set piColumnSpan to 0
35919>>>        Set psCSSClass to "MobileList"
35920>>>        Set pbServerOnRowClick to True
35921>>>        Set pbFillHeight to True
35922>>>        Set pbShowHeader to False
35923>>>        Set piSortColumn to 0
35924>>>
35924>>>        Object oGearboxGearboxId is a cWebColumn
35926>>>            Entry_Item Gearbox.GearboxId
35927>>>            Set psCaption to "Gearbox.GearboxId"
35928>>>            Set piWidth to 100
35929>>>        End_Object 
35930>>>
35930>>>        Object oGearboxGearboxName is a cWebColumn
35932>>>            Entry_Item Gearbox.GearboxName
35933>>>            Set psCaption to "Gearbox.GearboxName"
35934>>>            Set piWidth to 100
35935>>>        End_Object 
35936>>>
35936>>>        Object oDetailButton is a cWebColumnButton
35938>>>            Set psCaption to "btn"
35939>>>            Set piWidth to 45
35940>>>            Set pbFixedWidth to True
35941>>>            Set pbResizable to False
35942>>>            Set piListRowSpan to 1
35943>>>            Set psBtnCssClass to "WebButtonIcon WebIcon_Info"
35944>>>            Set peAlign to alignRight
35945>>>
35945>>>            WebRegisterPath ntNavigateForward oGearboxZoom
35951>>>
35951>>>            Procedure OnClick
35954>>>                Send NavigatePath
35955>>>            End_Procedure
35956>>>
35956>>>            Procedure OnGetNavigateForwardData tWebNavigateData ByRef NavigateData Handle hoToView
35959>>>                Move True to NavigateData.bReadOnly
35960>>>            End_Procedure
35961>>>
35961>>>        End_Object 
35962>>>
35962>>>        WebRegisterPath ntNavigateForward oGearboxZoom
35968>>>
35968>>>        Procedure OnRowClick String sRowId
35971>>>            tWebNavigateData NavigateData
35971>>>            tWebNavigateData NavigateData
35971>>>            Get GetNavigateData to NavigateData
35972>>>
35972>>>            Case Begin
35972>>>                Case (NavigateData.eNavigateType = nfFromParent)
35974>>>                    Send NavigateForward of oGearboxZoom Self
35975>>>                    Case Break
35976>>>
35976>>>                Case (NavigateData.eNavigateType = nfFromChild)
35979>>>                    Send NavigateClose Self
35980>>>                    Case Break
35981>>>
35981>>>                Case (NavigateData.eNavigateType = nfFromMain)
35984>>>                    Send NavigateClose Self
35985>>>                    Case Break
35986>>>
35986>>>                Case Else // must be nfUndefined
35986>>>                    Send NavigateForward of oGearboxZoom Self
35987>>>
35987>>>            Case End
35987>>>        End_Procedure
35988>>>
35988>>>        Procedure OnGetNavigateForwardData tWebNavigateData ByRef NavigateData Handle hoToView
35991>>>            Move True to NavigateData.bReadOnly
35992>>>        End_Procedure
35993>>>
35993>>>    End_Object 
35994>>>
35994>>>    Object oActionGroup is a cWebMenuGroup
35996>>>
35996>>>        Object oSearch is a cWebMenuItem
35998>>>            Set psCSSClass to "WebPromptMenuItem"
35999>>>            Set psCaption to "Search"
36000>>>
36000>>>            Procedure OnClick
36003>>>                Send Search of oList
36004>>>            End_Procedure
36005>>>
36005>>>        End_Object 
36006>>>
36006>>>        Object oNewButton is a cWebMenuItem
36008>>>            Set psCSSClass to "WebClearMenuItem"
36009>>>            Set psCaption to "New"
36010>>>
36010>>>            WebRegisterPath ntNavigateForward oGearboxZoom
36016>>>
36016>>>            Procedure OnClick
36019>>>                Send NavigatePath
36020>>>            End_Procedure
36021>>>
36021>>>            Procedure OnGetNavigateForwardData tWebNavigateData ByRef NavigateData Handle hoToView
36024>>>                Move True to NavigateData.bNewRecord
36025>>>            End_Procedure
36026>>>
36026>>>        End_Object 
36027>>>    End_Object 
36028>>>
36028>>>    Procedure OnNavigateForward tWebNavigateData NavigateData Integer hoInvokingView Integer hoInvokingObject
36031>>>        WebSet pbRender of oNewButton to True
36032>>>        WebSet pbRender of oDetailButton to True
36033>>>
36033>>>        Case Begin
36033>>>            Case (NavigateData.eNavigateType = nfFromParent)
36035>>>                // If from parent, this is a constrained drill down
36035>>>                Case Break
36036>>>
36036>>>            Case (NavigateData.eNavigateType = nfFromChild)
36039>>>                // If from child, this is a probably a parent lookup from a Zoom
36039>>>                Case Break
36040>>>
36040>>>            Case (NavigateData.eNavigateType = nfFromMain)
36043>>>                // If from main, this is a probably a main-file lookup from a Zoom
36043>>>                WebSet pbRender of oDetailButton to False
36044>>>                Case Break
36045>>>
36045>>>            Case Else // must be nfUndefined
36045>>>                // This may be the start of a drilldown query or this may be used for some kind of custom query.
36045>>>
36045>>>        Case End
36045>>>
36045>>>    End_Procedure
36046>>>
36046>>>
36046>>>End_Object 
36047>    Use CarZoom.wo
Including file: CarZoom.wo    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\CarZoom.wo)
36047>>>// C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\CarZoom.wo
36047>>>// Car
36047>>>//
36047>>>
36047>>>Use cWebView.pkg
36047>>>Use cWebPanel.pkg
36047>>>Use cWebMenuGroup.pkg
36047>>>Use cWebMenuItem.pkg
36047>>>Use cWebForm.pkg
36047>>>
36047>>>Use cFuelDataDictionary.dd
36047>>>Use cGearboxDataDictionary.dd
36047>>>Use cCarsDataDictionary.dd
Including file: cCarsDataDictionary.dd    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\DDSrc\cCarsDataDictionary.dd)
36047>>>>>Use DataDict.pkg
36047>>>>>
36047>>>>>Open Cars
36049>>>>>Open SysFile
36051>>>>>Open Fuel
36053>>>>>Open Gearbox
36055>>>>>
36055>>>>>Object NumberOfSeats is a ValidationTable
36057>>>>>    Procedure Fill_List
36060>>>>>        Forward Send Fill_List
36062>>>>>        Send Add_Table_Value "1"
36063>>>>>        Send Add_Table_Value "2"
36064>>>>>        Send Add_Table_Value "4"
36065>>>>>        Send Add_Table_Value "5"
36066>>>>>        Send Add_Table_Value "7"
36067>>>>>        Send Add_Table_Value "9"
36068>>>>>    End_Procedure
36069>>>>>End_Object
36070>>>>>
36070>>>>>Class cCarsDataDictionary is a DataDictionary
36071>>>>>    
36071>>>>>    Procedure Construct_Object
36073>>>>>        Forward Send Construct_Object
36075>>>>>        Set Main_File to Cars.File_Number
36076>>>>>
36076>>>>>        Set Add_Server_File to Fuel.File_Number
36077>>>>>        Set Add_Server_File to Gearbox.File_Number
36078>>>>>
36078>>>>>        Set Add_System_File to SysFile.File_Number DD_Lock_On_All
36079>>>>>
36079>>>>>        Set Foreign_Field_Option DD_KEYFIELD DD_NOPUT to True
36080>>>>>        Set Foreign_Field_Option DD_KEYFIELD DD_FINDREQ to True
36081>>>>>        Set Foreign_Field_Option DD_INDEXFIELD DD_NOPUT to True
36082>>>>>        Set Foreign_Field_Option DD_DEFAULT DD_DISPLAYONLY to True
36083>>>>>
36083>>>>>        Set Field_Auto_Increment Field Cars.CarId to File_Field SysFile.CarId
36084>>>>>        Set Key_Field_State Field Cars.CarId to True
36085>>>>>
36085>>>>>        Set Field_Option Field Cars.Model DD_REQUIRED to True
36086>>>>>
36086>>>>>        Set Field_Value_Table Field Cars.NumberOfSeats to NumberOfSeats
36087>>>>>        Set Field_Class_Name Field Cars.NumberOfSeats to "Combo"
36088>>>>>
36088>>>>>    End_Procedure
36089>>>>>
36089>>>>>End_Class
36090>>>
36090>>>Object oCarZoom is a cWebView
36092>>>    Set piColumnCount to 12
36093>>>    Set psCaption to "Car"
36094>>>    Set peWebViewStyle to wvsDrilldown
36095>>>    Set peViewType to vtZoom
36096>>>    Set pbShowCaption to False
36097>>>    Set Verify_Save_Msg to 0
36098>>>    Set piMaxWidth to 1024
36099>>>
36099>>>    Object oFuel_DD is a cFuelDataDictionary
36101>>>    End_Object 
36102>>>
36102>>>    Object oGearbox_DD is a cGearboxDataDictionary
36104>>>    End_Object 
36105>>>
36105>>>    Object oCars_DD is a cCarsDataDictionary
36107>>>        Set DDO_Server To oFuel_DD
36108>>>        Set DDO_Server To oGearbox_DD
36109>>>    End_Object 
36110>>>
36110>>>    Set Main_DD To oCars_DD
36111>>>    Set Server  To oCars_DD
36112>>>
36112>>>
36112>>>    Object oWebMainPanel is a cWebPanel
36114>>>        Set piColumnCount to 12
36115>>>        WebSetResponsive piColumnCount rmMobile to 4
36116>>>
36116>>>        Object oCarsCarId is a cWebForm
36118>>>            Entry_Item Cars.CarId
36119>>>            Set piColumnSpan to 2
36120>>>            Set piColumnIndex to 0
36121>>>            Set peLabelPosition to lpTop
36122>>>            Set psLabel to "Car Id"
36123>>>        End_Object 
36124>>>
36124>>>        Object oCarsModel is a cWebForm
36126>>>            Entry_Item Cars.Model
36127>>>            Set piColumnSpan to 4
36128>>>            Set piColumnIndex to 2
36129>>>            Set peLabelPosition to lpTop
36130>>>            Set psLabel to "Model"
36131>>>        End_Object 
36132>>>
36132>>>        Object oCarsColor is a cWebForm
36134>>>            Entry_Item Cars.Color
36135>>>            Set piColumnSpan to 4
36136>>>            Set piColumnIndex to 6
36137>>>            Set peLabelPosition to lpTop
36138>>>            Set psLabel to "Color"
36139>>>        End_Object 
36140>>>
36140>>>        Object oCarsNumberOfSeats is a cWebCombo
36142>>>            Entry_Item Cars.NumberOfSeats
36143>>>            Set piColumnIndex to 10
36144>>>            Set peLabelPosition to lpTop
36145>>>            Set psLabel to "Number Of Seats"
36146>>>            Set piColumnSpan to 2
36147>>>        End_Object 
36148>>>
36148>>>        Object oFuelFuelId is a cWebForm
36150>>>            Entry_Item Fuel.FuelId
36151>>>            Set piColumnSpan to 1
36152>>>            Set piColumnIndex to 1
36153>>>            Set peLabelPosition to lpTop
36154>>>            Set psLabel to "Fuel Id"
36155>>>            Set pbPromptButton to True
36156>>>
36156>>>// ToDo: Fill in the from-child parent Select view object name for navigate forward
36156>>>            WebRegisterPath ntNavigateForward oFuelSelect
36162>>>
36162>>>            Procedure OnPrompt
36165>>>                Send NavigatePath
36166>>>            End_Procedure
36167>>>        End_Object 
36168>>>
36168>>>        Object oFuelFuelName is a cWebForm
36170>>>            Entry_Item Fuel.FuelName
36171>>>            Set piColumnSpan to 4
36172>>>            Set piColumnIndex to 2
36173>>>            Set peLabelPosition to lpTop
36174>>>            Set psLabel to "Fuel Name"
36175>>>        End_Object 
36176>>>
36176>>>        Object oGearboxGearboxId is a cWebForm
36178>>>            Entry_Item Gearbox.GearboxId
36179>>>            Set piColumnSpan to 1
36180>>>            Set piColumnIndex to 1
36181>>>            Set peLabelPosition to lpTop
36182>>>            Set psLabel to "Gearbox Id"
36183>>>            Set pbPromptButton to True
36184>>>
36184>>>// ToDo: Fill in the from-child parent Select view object name for navigate forward
36184>>>            WebRegisterPath ntNavigateForward oGearboxSelect
36190>>>
36190>>>            Procedure OnPrompt
36193>>>                Send NavigatePath
36194>>>            End_Procedure
36195>>>        End_Object 
36196>>>
36196>>>        Object oGearboxGearboxName is a cWebForm
36198>>>            Entry_Item Gearbox.GearboxName
36199>>>            Set piColumnSpan to 4
36200>>>            Set piColumnIndex to 2
36201>>>            Set peLabelPosition to lpTop
36202>>>            Set psLabel to "Gearbox Name"
36203>>>        End_Object 
36204>>>    End_Object 
36205>>>
36205>>>    Object oActionGroup is a cWebMenuGroup
36207>>>
36207>>>        Object oSaveBtn is a cWebMenuItem
36209>>>            Set psCSSClass to "WebSaveMenuItem"
36210>>>            Set psCaption to "Save"
36211>>>
36211>>>            Procedure OnClick
36214>>>                Send Request_Save
36215>>>            End_Procedure
36216>>>
36216>>>        End_Object 
36217>>>
36217>>>        Object oEditBtn is a cWebMenuItem
36219>>>            Set psCSSClass to "WebEditMenuItem"
36220>>>            Set psCaption to "Edit"
36221>>>            Procedure OnClick
36224>>>                Send ChangeEditMode True
36225>>>                Send SetActionButtons
36226>>>            End_Procedure
36227>>>
36227>>>        End_Object 
36228>>>
36228>>>        Object oDeleteBtn is a cWebMenuItem
36230>>>            Set psCSSClass to "WebDeleteMenuItem"
36231>>>            Set psCaption to "Delete"
36232>>>            Set peActionDisplay to adMenu
36233>>>
36233>>>            Procedure OnClick
36236>>>                Send Request_Delete
36237>>>            End_Procedure
36238>>>
36238>>>        End_Object 
36239>>>
36239>>>        Object oCancelChangesBtn is a cWebMenuItem
36241>>>            Set psCSSClass to "WebIcon_Refresh"
36242>>>            Set psCaption to "Clear Changes"
36243>>>            Set peActionDisplay to adMenu
36244>>>            Procedure OnClick
36247>>>                Send RefreshRecord
36248>>>            End_Procedure
36249>>>
36249>>>        End_Object 
36250>>>    End_Object 
36251>>>
36251>>>    Procedure SetActionButtons
36254>>>        tWebNavigateData NavigateData
36254>>>        tWebNavigateData NavigateData
36254>>>        Boolean bHasRecord
36254>>>        Handle hoDD
36254>>>
36254>>>        Get Server to hoDD
36255>>>        Get GetNavigateData to NavigateData
36256>>>        Get HasRecord of hoDD to bHasRecord
36257>>>
36257>>>        // let's hide all buttons and then Show the ones we want
36257>>>        WebSet pbRender of oEditBtn to False
36258>>>        WebSet pbRender of oSaveBtn to False
36259>>>        WebSet pbRender of oCancelChangesBtn to False
36260>>>        WebSet pbRender of oDeleteBtn to False
36261>>>
36261>>>        If (NavigateData.bReadOnly) Begin
36263>>>            WebSet pbRender of oEditBtn to True
36264>>>        End
36264>>>>
36264>>>        Else Begin
36265>>>            WebSet pbRender of oSaveBtn to True
36266>>>            WebSet pbRender of oCancelChangesBtn to True
36267>>>            WebSet pbRender of oDeleteBtn to bHasRecord
36268>>>        End
36268>>>>
36268>>>    End_Procedure
36269>>>
36269>>>    Procedure OnViewSaved Handle hoServer Boolean bChanged
36272>>>        // Close after save
36272>>>        Send NavigateClose Self
36273>>>    End_Procedure
36274>>>
36274>>>    // this will close the view after a delete
36274>>>    Procedure OnViewDeleted Handle hoDDO
36277>>>        Send NavigateClose Self
36278>>>    End_Procedure
36279>>>
36279>>>    Procedure OnNavigateForward tWebNavigateData NavigateData Integer hoInvokingView Integer hoInvokingObject
36282>>>        Case Begin
36282>>>            Case (NavigateData.eNavigateType = nfFromMain)
36284>>>                // If from main, this is a propbably a main file Select to Zoom.
36284>>>                Case Break
36285>>>
36285>>>            Case (NavigateData.eNavigateType = nfFromParent)
36288>>>                // If from parent, this is a constrained drill down.
36288>>>                Case Break
36289>>>
36289>>>            Case (NavigateData.eNavigateType = nfFromChild)
36292>>>                // If from child, this is a probably a parent Zoom from a Zoom.
36292>>>                Case Break
36293>>>
36293>>>            Case Else // must be nfUndefined
36293>>>
36293>>>        Case End
36293>>>
36293>>>        Send SetActionButtons
36294>>>
36294>>>    End_Procedure
36295>>>
36295>>>End_Object 
36296>    Use CarSelect.wo
Including file: CarSelect.wo    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\CarSelect.wo)
36296>>>// C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\CarSelect.wo
36296>>>// Car
36296>>>//
36296>>>
36296>>>Use cWebView.pkg
36296>>>Use cWebList.pkg
36296>>>Use cWebMenuGroup.pkg
36296>>>Use cWebMenuItem.pkg
36296>>>Use cWebColumnButton.pkg
36296>>>Use cWebColumn.pkg
36296>>>Use CarZoom.wo
36296>>>
36296>>>Use cFuelDataDictionary.dd
36296>>>Use cGearboxDataDictionary.dd
36296>>>Use cCarsDataDictionary.dd
36296>>>Use cWebForm.pkg
36296>>>
36296>>>Object oCarSelect is a cWebView
36298>>>    Set psCaption to "Car"
36299>>>    Set peWebViewStyle to wvsDrilldown
36300>>>    Set peViewType to vtSelect
36301>>>    Set piColumnCount to 12
36302>>>    Set pbShowCaption to False
36303>>>    Set piMaxWidth to 1024
36304>>>
36304>>>    Object oFuel_DD is a cFuelDataDictionary
36306>>>    End_Object 
36307>>>
36307>>>    Object oGearbox_DD is a cGearboxDataDictionary
36309>>>    End_Object 
36310>>>
36310>>>    Object oCars_DD is a cCarsDataDictionary
36312>>>        Set DDO_Server To oFuel_DD
36313>>>        Set DDO_Server to oGearbox_DD
36314>>>        
36314>>>        // EN
36314>>>        // Limit the rows to the search value
36314>>>        // GE
36314>>>        // Zeilen auf den Suchwert beschrnken
36314>>>        // HU
36314>>>        // Korltozza a sorokat a keressi rtkre
36314>>>        Procedure OnConstrain
36317>>>            String sValue sFilter
36317>>>            
36317>>>            // EN
36317>>>            // The value from whatever was entered. It comes from oWebform1
36317>>>            // GE
36317>>>            // Der Wert aus dem, was eingegeben wurde. Es kommt von oWebform1
36317>>>            // HU
36317>>>            // Az rtk brmibl, amit bertak. Az oWebform1-bl szrmazik
36317>>>            WebGet psValue of oWebForm1 to sValue
36320>>>            Move (Trim(sValue)) to sValue
36321>>>            If (sValue > "") Begin                
36323>>>                Move "[CarId] LIKE '%@@%' or [Model] LIKE '%@@%' or [Color] LIKE '%@@%' or [NumberOfSeats] LIKE '%@@%'" to sFilter
36324>>>                
36324>>>                // EN
36324>>>                // Replace all with the value entered by the user
36324>>>                // GE
36324>>>                // Alle durch den vom Benutzer eingegebenen Wert ersetzen
36324>>>                // HU
36324>>>                // Cserlje le az sszeset a felhasznl ltal bert rtkre
36324>>>                Move (Replace("@@", sFilter, sValue)) to sFilter
36325>>>                Move (Replace("@@", sFilter, sValue)) to sFilter
36326>>>                Move (Replace("@@", sFilter, sValue)) to sFilter
36327>>>                Move (Replace("@@", sFilter, sValue)) to sFilter
36328>>>                                                
36328>>>                // EN
36328>>>                // In this case, we want to use the PS SQL filter property of the data dictionary to filter automatically
36328>>>                // It only works within a table
36328>>>                // GE
36328>>>                // In diesem Fall mchten wir die PS-SQL-Filtereigenschaft des Datenwrterbuchs zum automatischen Filtern verwenden
36328>>>                // Es funktioniert nur innerhalb einer Tabelle
36328>>>                // HU
36328>>>                // Ebben az esetben az adatsztr PS SQL filter tulajdonsgt szeretnnk hasznlni, hogy automatikus szrjnk
36328>>>                // Csak tblzaton bell mkdik
36328>>>                Set psSQLFilter to sFilter 
36329>>>                
36329>>>                // EN
36329>>>                // We need to configure the data dictionary to use SQL filters
36329>>>                // GE
36329>>>                // Wir mssen das Datenwrterbuch fr die Verwendung von SQL-Filtern konfigurieren
36329>>>                // HU
36329>>>                // Tlykoztatnunk kell az adatsztrt, hogy hasznljon SQL szrket
36329>>>                Set pbUseDDSQLFilters to True
36330>>>            End
36330>>>>
36330>>>            Else Begin
36331>>>                Set pbUseDDSQLFilters to False
36332>>>            End
36332>>>>
36332>>>        End_Procedure
36333>>>    End_Object 
36334>>>
36334>>>    // EN
36334>>>    // Main_DD startet die Ansicht, fhrt alle Einschrnkungen aus,
36334>>>    // stellt sicher, dass Sie auf die Daten in den Ansichten zugreifen knnen
36334>>>    // GE
36334>>>    // Main_DD startet die Ansicht, fhrt alle Einschrnkungen aus,
36334>>>    // stellt sicher, dass Sie auf die Daten in den Ansichten zugreifen knnen
36334>>>    // HU
36334>>>    // a Main_DD indtja el a nzetet, megtesz minden korltozst,
36334>>>    // gondoskodik arrl, hogy hozzfrhessen az adatokhoz a nzetekben
36334>>>    Set Main_DD to oCars_DD
36335>>>    
36335>>>    // EN
36335>>>    // If we change something and want to save it, the Server takes care of it
36335>>>    // GE
36335>>>    // Wenn wir etwas ndern und es speichern wollen, kmmert sich der Server darum
36335>>>    // HU
36335>>>    // Ha mevltoztatunk valamit s el szeretnnk menteni, arrl a Server gondoskodik
36335>>>    Set Server  To oCars_DD
36336>>>
36336>>>    Object oWebForm1 is a cWebForm
36338>>>        Set piColumnSpan to 0
36339>>>        Set psLabel to "Search"
36340>>>        Set peLabelPosition to lpTop
36341>>>        Set pbPromptButton to True
36342>>>        Procedure OnPrompt
36345>>>            // EN
36345>>>            // When clicked, we rebuild it according to the search conditions
36345>>>            // so we send the constraints to the data dictionary
36345>>>            // GE
36345>>>            // Wenn darauf geklickt wird, erstellen wir es entsprechend den Suchbedingungen neu
36345>>>            // Also senden wir die Einschrnkungen an das Datenwrterbuch
36345>>>            // HU
36345>>>            // Kattintsnl jraptjk a keressi feltleknek megfelelen
36345>>>            // ezrt elkldjk az adatsztrnak a megszortsokat
36345>>>            Send Rebuild_Constraints of oCars_DD
36346>>>            // EN
36346>>>            // The list must be linked again. We find the first record and then rebuild it.
36346>>>            // This should be implemented in the data dictionary
36346>>>            // GE
36346>>>            // Die Liste muss erneut verknpft werden. Wir finden den ersten Datensatz und erstellen ihn dann neu.
36346>>>            // Dies sollte im Datenwrterbuch implementiert werden
36346>>>            // HU
36346>>>            // A listt jra ssze kell kapcsolni. Megkeressk az els rekordot, majd jraptjk.
36346>>>            // Ezt az adatsztrban kell megvalstani
36346>>>            Send Find of oCars_DD FIRST_RECORD 1            
36347>>>        End_Procedure
36348>>>    End_Object
36349>>>
36349>>>
36349>>>    Object oList is a cWebList
36351>>>        Set piColumnSpan to 0
36352>>>        Set psCSSClass to "MobileList"
36353>>>        Set pbServerOnRowClick to True
36354>>>        Set pbFillHeight to True
36355>>>        Set pbShowHeader to True // Set pbShowHeader to False
36356>>>        Set piSortColumn to 0
36357>>>
36357>>>        Object oCarsCarId is a cWebColumn
36359>>>            
36359>>>            // EN
36359>>>            // Entry_Item can also be replaced with a Procedure
36359>>>            // GE
36359>>>            // Entry_Item kann auch durch eine Prozedur ersetzt werden
36359>>>            // HU
36359>>>            // egy Procedure-rel is helyettesthet az Entry_Item 
36359>>>            Entry_Item Cars.CarId
36360>>>            Set psCaption to "CarId"
36361>>>            Set piWidth to 100
36362>>>        End_Object 
36363>>>
36363>>>        Object oCarsModel is a cWebColumn
36365>>>            Entry_Item Cars.Model
36366>>>            Set psCaption to "Model"
36367>>>            Set piWidth to 200
36368>>>        End_Object 
36369>>>
36369>>>        Object oCarsColor is a cWebColumn
36371>>>            Entry_Item Cars.Color
36372>>>            Set psCaption to "Color"
36373>>>            Set piWidth to 200
36374>>>        End_Object 
36375>>>
36375>>>        Object oFuelFuelName is a cWebColumn
36377>>>            Entry_Item Fuel.FuelName
36378>>>            Set psCaption to "Fuel"
36379>>>            Set piWidth to 100
36380>>>        End_Object 
36381>>>
36381>>>        Object oGearboxGearboxName is a cWebColumn
36383>>>            Entry_Item Gearbox.GearboxName
36384>>>            Set psCaption to "Gearbox"
36385>>>            Set piWidth to 130
36386>>>        End_Object 
36387>>>
36387>>>        Object oCarsNumberOfSeats is a cWebColumn
36389>>>            Entry_Item Cars.NumberOfSeats
36390>>>            Set psCaption to "NumberOfSeats"
36391>>>            Set piWidth to 200
36392>>>        End_Object 
36393>>>
36393>>>        Object oDetailButton is a cWebColumnButton
36395>>>            Set psCaption to "btn"
36396>>>            Set piWidth to 45
36397>>>            Set pbFixedWidth to True
36398>>>            Set pbResizable to False
36399>>>            Set piListRowSpan to 1
36400>>>            Set psBtnCssClass to "WebButtonIcon WebIcon_Info"
36401>>>            Set peAlign to alignRight
36402>>>
36402>>>            WebRegisterPath ntNavigateForward oCarZoom
36408>>>
36408>>>            Procedure OnClick
36411>>>                Send NavigatePath
36412>>>            End_Procedure
36413>>>
36413>>>            Procedure OnGetNavigateForwardData tWebNavigateData ByRef NavigateData Handle hoToView
36416>>>                Move True to NavigateData.bReadOnly
36417>>>            End_Procedure
36418>>>
36418>>>        End_Object 
36419>>>
36419>>>        WebRegisterPath ntNavigateForward oCarZoom
36425>>>
36425>>>        Procedure OnRowClick String sRowId
36428>>>            tWebNavigateData NavigateData
36428>>>            tWebNavigateData NavigateData
36428>>>            Get GetNavigateData to NavigateData
36429>>>
36429>>>            Case Begin
36429>>>                Case (NavigateData.eNavigateType = nfFromParent)
36431>>>                    Send NavigateForward of oCarZoom Self
36432>>>                    Case Break
36433>>>
36433>>>                Case (NavigateData.eNavigateType = nfFromChild)
36436>>>                    Send NavigateClose Self
36437>>>                    Case Break
36438>>>
36438>>>                Case (NavigateData.eNavigateType = nfFromMain)
36441>>>                    Send NavigateClose Self
36442>>>                    Case Break
36443>>>
36443>>>                Case Else // must be nfUndefined
36443>>>                    Send NavigateForward of oCarZoom Self
36444>>>
36444>>>            Case End
36444>>>        End_Procedure
36445>>>
36445>>>        Procedure OnGetNavigateForwardData tWebNavigateData ByRef NavigateData Handle hoToView
36448>>>            Move True to NavigateData.bReadOnly
36449>>>        End_Procedure
36450>>>
36450>>>    End_Object 
36451>>>
36451>>>    Object oActionGroup is a cWebMenuGroup
36453>>>
36453>>>        Object oSearch is a cWebMenuItem
36455>>>            Set psCSSClass to "WebPromptMenuItem"
36456>>>            Set psCaption to "Search"
36457>>>
36457>>>            Procedure OnClick
36460>>>                Send Search of oList
36461>>>            End_Procedure
36462>>>
36462>>>        End_Object 
36463>>>
36463>>>        Object oNewButton is a cWebMenuItem
36465>>>            Set psCSSClass to "WebClearMenuItem"
36466>>>            Set psCaption to "New"
36467>>>
36467>>>            WebRegisterPath ntNavigateForward oCarZoom
36473>>>
36473>>>            Procedure OnClick
36476>>>                Send NavigatePath
36477>>>            End_Procedure
36478>>>
36478>>>            Procedure OnGetNavigateForwardData tWebNavigateData ByRef NavigateData Handle hoToView
36481>>>                Move True to NavigateData.bNewRecord
36482>>>            End_Procedure
36483>>>
36483>>>        End_Object 
36484>>>    End_Object 
36485>>>
36485>>>    Procedure OnNavigateForward tWebNavigateData NavigateData Integer hoInvokingView Integer hoInvokingObject
36488>>>        WebSet pbRender of oNewButton to True
36489>>>        WebSet pbRender of oDetailButton to True
36490>>>
36490>>>        Case Begin
36490>>>            Case (NavigateData.eNavigateType = nfFromParent)
36492>>>                // If from parent, this is a constrained drill down
36492>>>                Case Break
36493>>>
36493>>>            Case (NavigateData.eNavigateType = nfFromChild)
36496>>>                // If from child, this is a probably a parent lookup from a Zoom
36496>>>                Case Break
36497>>>
36497>>>            Case (NavigateData.eNavigateType = nfFromMain)
36500>>>                // If from main, this is a probably a main-file lookup from a Zoom
36500>>>                WebSet pbRender of oDetailButton to False
36501>>>                Case Break
36502>>>
36502>>>            Case Else // must be nfUndefined
36502>>>                // This may be the start of a drilldown query or this may be used for some kind of custom query.
36502>>>
36502>>>        Case End
36502>>>
36502>>>    End_Procedure
36503>>>
36503>>>
36503>>>End_Object 
36504>    Use DepartmentZoom.wo
Including file: DepartmentZoom.wo    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\DepartmentZoom.wo)
36504>>>// C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\DepartmentZoom.wo
36504>>>// Department
36504>>>//
36504>>>
36504>>>Use cWebView.pkg
36504>>>Use cWebPanel.pkg
36504>>>Use cWebMenuGroup.pkg
36504>>>Use cWebMenuItem.pkg
36504>>>Use cWebForm.pkg
36504>>>
36504>>>Use cDepartmentDataDictionary.dd
Including file: cDepartmentDataDictionary.dd    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\DDSrc\cDepartmentDataDictionary.dd)
36504>>>>>Use DataDict.pkg
36504>>>>>
36504>>>>>Open Department
36506>>>>>Open SysFile
36508>>>>>Open WebAppUser
36510>>>>>
36510>>>>>Class cDepartmentDataDictionary is a DataDictionary
36511>>>>>    
36511>>>>>    Procedure Construct_Object
36513>>>>>        Forward Send Construct_Object
36515>>>>>        Set Main_File to Department.File_Number
36516>>>>>
36516>>>>>        Set Add_Client_File to WebAppUser.File_Number
36517>>>>>
36517>>>>>        Set Add_System_File to SysFile.File_Number DD_Lock_On_All
36518>>>>>
36518>>>>>        Set Foreign_Field_Option DD_KEYFIELD DD_NOPUT to True
36519>>>>>        Set Foreign_Field_Option DD_KEYFIELD DD_FINDREQ to True
36520>>>>>        Set Foreign_Field_Option DD_INDEXFIELD DD_NOPUT to True
36521>>>>>        Set Foreign_Field_Option DD_DEFAULT DD_DISPLAYONLY to True
36522>>>>>
36522>>>>>        Set Field_Auto_Increment Field Department.DepartmentId to File_Field SysFile.DepartmentId
36523>>>>>
36523>>>>>    End_Procedure
36524>>>>>
36524>>>>>End_Class
36525>>>
36525>>>Object oDepartmentZoom is a cWebView
36527>>>    Set piColumnCount to 12
36528>>>    Set psCaption to "Department"
36529>>>    Set peWebViewStyle to wvsDrilldown
36530>>>    Set peViewType to vtZoom
36531>>>    Set pbShowCaption to False
36532>>>    Set Verify_Save_Msg to 0
36533>>>    Set piMaxWidth to 1024
36534>>>
36534>>>    Object oDepartment_DD is a cDepartmentDataDictionary
36536>>>    End_Object 
36537>>>
36537>>>    Set Main_DD To oDepartment_DD
36538>>>    Set Server  To oDepartment_DD
36539>>>
36539>>>
36539>>>    Object oWebMainPanel is a cWebPanel
36541>>>        Set piColumnCount to 12
36542>>>        WebSetResponsive piColumnCount rmMobile to 4
36543>>>
36543>>>        Object oDepartmentDepartmentId is a cWebForm
36545>>>            Entry_Item Department.DepartmentId
36546>>>            Set piColumnSpan to 2
36547>>>            Set piColumnIndex to 0
36548>>>            Set peLabelPosition to lpTop
36549>>>            Set psLabel to "DepartmentId"
36550>>>        End_Object 
36551>>>
36551>>>        Object oDepartmentDepartmentName is a cWebForm
36553>>>            Entry_Item Department.DepartmentName
36554>>>            Set piColumnSpan to 5
36555>>>            Set piColumnIndex to 0
36556>>>            Set peLabelPosition to lpTop
36557>>>            Set psLabel to "DepartmentName"
36558>>>        End_Object 
36559>>>    End_Object 
36560>>>
36560>>>    Object oActionGroup is a cWebMenuGroup
36562>>>
36562>>>        Object oSaveBtn is a cWebMenuItem
36564>>>            Set psCSSClass to "WebSaveMenuItem"
36565>>>            Set psCaption to "Save"
36566>>>
36566>>>            Procedure OnClick
36569>>>                Send Request_Save
36570>>>            End_Procedure
36571>>>
36571>>>        End_Object 
36572>>>
36572>>>        Object oEditBtn is a cWebMenuItem
36574>>>            Set psCSSClass to "WebEditMenuItem"
36575>>>            Set psCaption to "Edit"
36576>>>            Procedure OnClick
36579>>>                Send ChangeEditMode True
36580>>>                Send SetActionButtons
36581>>>            End_Procedure
36582>>>
36582>>>        End_Object 
36583>>>
36583>>>        Object oDeleteBtn is a cWebMenuItem
36585>>>            Set psCSSClass to "WebDeleteMenuItem"
36586>>>            Set psCaption to "Delete"
36587>>>            Set peActionDisplay to adMenu
36588>>>
36588>>>            Procedure OnClick
36591>>>                Send Request_Delete
36592>>>            End_Procedure
36593>>>
36593>>>        End_Object 
36594>>>
36594>>>        Object oCancelChangesBtn is a cWebMenuItem
36596>>>            Set psCSSClass to "WebIcon_Refresh"
36597>>>            Set psCaption to "Clear Changes"
36598>>>            Set peActionDisplay to adMenu
36599>>>            Procedure OnClick
36602>>>                Send RefreshRecord
36603>>>            End_Procedure
36604>>>
36604>>>        End_Object 
36605>>>    End_Object 
36606>>>
36606>>>    Procedure SetActionButtons
36609>>>        tWebNavigateData NavigateData
36609>>>        tWebNavigateData NavigateData
36609>>>        Boolean bHasRecord
36609>>>        Handle hoDD
36609>>>
36609>>>        Get Server to hoDD
36610>>>        Get GetNavigateData to NavigateData
36611>>>        Get HasRecord of hoDD to bHasRecord
36612>>>
36612>>>        // let's hide all buttons and then Show the ones we want
36612>>>        WebSet pbRender of oEditBtn to False
36613>>>        WebSet pbRender of oSaveBtn to False
36614>>>        WebSet pbRender of oCancelChangesBtn to False
36615>>>        WebSet pbRender of oDeleteBtn to False
36616>>>
36616>>>        If (NavigateData.bReadOnly) Begin
36618>>>            WebSet pbRender of oEditBtn to True
36619>>>        End
36619>>>>
36619>>>        Else Begin
36620>>>            WebSet pbRender of oSaveBtn to True
36621>>>            WebSet pbRender of oCancelChangesBtn to True
36622>>>            WebSet pbRender of oDeleteBtn to bHasRecord
36623>>>        End
36623>>>>
36623>>>    End_Procedure
36624>>>
36624>>>    Procedure OnViewSaved Handle hoServer Boolean bChanged
36627>>>        // Close after save
36627>>>        Send NavigateClose Self
36628>>>    End_Procedure
36629>>>
36629>>>    // this will close the view after a delete
36629>>>    Procedure OnViewDeleted Handle hoDDO
36632>>>        Send NavigateClose Self
36633>>>    End_Procedure
36634>>>
36634>>>    Procedure OnNavigateForward tWebNavigateData NavigateData Integer hoInvokingView Integer hoInvokingObject
36637>>>        Case Begin
36637>>>            Case (NavigateData.eNavigateType = nfFromMain)
36639>>>                // If from main, this is a propbably a main file Select to Zoom.
36639>>>                Case Break
36640>>>
36640>>>            Case (NavigateData.eNavigateType = nfFromParent)
36643>>>                // If from parent, this is a constrained drill down.
36643>>>                Case Break
36644>>>
36644>>>            Case (NavigateData.eNavigateType = nfFromChild)
36647>>>                // If from child, this is a probably a parent Zoom from a Zoom.
36647>>>                Case Break
36648>>>
36648>>>            Case Else // must be nfUndefined
36648>>>
36648>>>        Case End
36648>>>
36648>>>        Send SetActionButtons
36649>>>
36649>>>    End_Procedure
36650>>>
36650>>>End_Object 
36651>    Use DepartmentSelect.wo
Including file: DepartmentSelect.wo    (C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\DepartmentSelect.wo)
36651>>>// C:\Users\user\Desktop\Apa pendrive\DataFlex\Projects\CarDealerShip\AppSrc\DepartmentSelect.wo
36651>>>// Department
36651>>>//
36651>>>
36651>>>Use cWebView.pkg
36651>>>Use cWebList.pkg
36651>>>Use cWebMenuGroup.pkg
36651>>>Use cWebMenuItem.pkg
36651>>>Use cWebColumnButton.pkg
36651>>>Use cWebColumn.pkg
36651>>>Use DepartmentZoom.wo
36651>>>
36651>>>Use cDepartmentDataDictionary.dd
36651>>>
36651>>>Object oDepartmentSelect is a cWebView
36653>>>    Set psCaption to "Department"
36654>>>    Set peWebViewStyle to wvsDrilldown
36655>>>    Set peViewType to vtSelect
36656>>>    Set piColumnCount to 12
36657>>>    Set pbShowCaption to False
36658>>>    Set piMaxWidth to 1024
36659>>>
36659>>>    Object oDepartment_DD is a cDepartmentDataDictionary
36661>>>    End_Object 
36662>>>
36662>>>    Set Main_DD To oDepartment_DD
36663>>>    Set Server  To oDepartment_DD
36664>>>
36664>>>
36664>>>    Object oList is a cWebList
36666>>>        Set piColumnSpan to 0
36667>>>        Set psCSSClass to "MobileList"
36668>>>        Set pbServerOnRowClick to True
36669>>>        Set pbFillHeight to True
36670>>>        Set pbShowHeader to False
36671>>>        Set piSortColumn to 0
36672>>>
36672>>>        Object oDepartmentDepartmentId is a cWebColumn
36674>>>            Entry_Item Department.DepartmentId
36675>>>            Set psCaption to "Department.DepartmentId"
36676>>>            Set piWidth to 100
36677>>>        End_Object 
36678>>>
36678>>>        Object oDepartmentDepartmentName is a cWebColumn
36680>>>            Entry_Item Department.DepartmentName
36681>>>            Set psCaption to "Department.DepartmentName"
36682>>>            Set piWidth to 300
36683>>>        End_Object 
36684>>>
36684>>>        Object oDetailButton is a cWebColumnButton
36686>>>            Set psCaption to "btn"
36687>>>            Set piWidth to 45
36688>>>            Set pbFixedWidth to True
36689>>>            Set pbResizable to False
36690>>>            Set piListRowSpan to 1
36691>>>            Set psBtnCssClass to "WebButtonIcon WebIcon_Info"
36692>>>            Set peAlign to alignRight
36693>>>
36693>>>            WebRegisterPath ntNavigateForward oDepartmentZoom
36699>>>
36699>>>            Procedure OnClick
36702>>>                Send NavigatePath
36703>>>            End_Procedure
36704>>>
36704>>>            Procedure OnGetNavigateForwardData tWebNavigateData ByRef NavigateData Handle hoToView
36707>>>                Move True to NavigateData.bReadOnly
36708>>>            End_Procedure
36709>>>
36709>>>        End_Object 
36710>>>
36710>>>        WebRegisterPath ntNavigateForward oDepartmentZoom
36716>>>
36716>>>        Procedure OnRowClick String sRowId
36719>>>            tWebNavigateData NavigateData
36719>>>            tWebNavigateData NavigateData
36719>>>            Get GetNavigateData to NavigateData
36720>>>
36720>>>            Case Begin
36720>>>                Case (NavigateData.eNavigateType = nfFromParent)
36722>>>                    Send NavigateForward of oDepartmentZoom Self
36723>>>                    Case Break
36724>>>
36724>>>                Case (NavigateData.eNavigateType = nfFromChild)
36727>>>                    Send NavigateClose Self
36728>>>                    Case Break
36729>>>
36729>>>                Case (NavigateData.eNavigateType = nfFromMain)
36732>>>                    Send NavigateClose Self
36733>>>                    Case Break
36734>>>
36734>>>                Case Else // must be nfUndefined
36734>>>                    Send NavigateForward of oDepartmentZoom Self
36735>>>
36735>>>            Case End
36735>>>        End_Procedure
36736>>>
36736>>>        Procedure OnGetNavigateForwardData tWebNavigateData ByRef NavigateData Handle hoToView
36739>>>            Move True to NavigateData.bReadOnly
36740>>>        End_Procedure
36741>>>
36741>>>    End_Object 
36742>>>
36742>>>    Object oActionGroup is a cWebMenuGroup
36744>>>
36744>>>        Object oSearch is a cWebMenuItem
36746>>>            Set psCSSClass to "WebPromptMenuItem"
36747>>>            Set psCaption to "Search"
36748>>>
36748>>>            Procedure OnClick
36751>>>                Send Search of oList
36752>>>            End_Procedure
36753>>>
36753>>>        End_Object 
36754>>>
36754>>>        Object oNewButton is a cWebMenuItem
36756>>>            Set psCSSClass to "WebClearMenuItem"
36757>>>            Set psCaption to "New"
36758>>>
36758>>>            WebRegisterPath ntNavigateForward oDepartmentZoom
36764>>>
36764>>>            Procedure OnClick
36767>>>                Send NavigatePath
36768>>>            End_Procedure
36769>>>
36769>>>            Procedure OnGetNavigateForwardData tWebNavigateData ByRef NavigateData Handle hoToView
36772>>>                Move True to NavigateData.bNewRecord
36773>>>            End_Procedure
36774>>>
36774>>>        End_Object 
36775>>>    End_Object 
36776>>>
36776>>>    Procedure OnNavigateForward tWebNavigateData NavigateData Integer hoInvokingView Integer hoInvokingObject
36779>>>        WebSet pbRender of oNewButton to True
36780>>>        WebSet pbRender of oDetailButton to True
36781>>>
36781>>>        Case Begin
36781>>>            Case (NavigateData.eNavigateType = nfFromParent)
36783>>>                // If from parent, this is a constrained drill down
36783>>>                Case Break
36784>>>
36784>>>            Case (NavigateData.eNavigateType = nfFromChild)
36787>>>                // If from child, this is a probably a parent lookup from a Zoom
36787>>>                Case Break
36788>>>
36788>>>            Case (NavigateData.eNavigateType = nfFromMain)
36791>>>                // If from main, this is a probably a main-file lookup from a Zoom
36791>>>                WebSet pbRender of oDetailButton to False
36792>>>                Case Break
36793>>>
36793>>>            Case Else // must be nfUndefined
36793>>>                // This may be the start of a drilldown query or this may be used for some kind of custom query.
36793>>>
36793>>>        Case End
36793>>>
36793>>>    End_Procedure
36794>>>
36794>>>
36794>>>End_Object 
36795>    Set phoDefaultView to oDashboard
36796>
36796>End_Object
36797>
36797>Send StartWebApp of oWebApp
36798>
Summary
Memory Available: 21214064640
Total Warnings : 0
Total Errors   : 0
Total Symbols  : 23787
Total Resources: 0
Total Commands : 36797
Total Windows  : 0
Total Pages    : 0
Static Data    : 468281
Message area   : 257616
Total Blocks   : 16472
